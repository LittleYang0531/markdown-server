# åšé¢˜è®°å½•

## æ¨¡æ¿è®°å½•

```md
## Tx é¢˜ç›®åç§°

### é¢˜ç›®æè¿°

### è¾“å…¥æè¿°

### è¾“å‡ºæè¿°

### é¢˜ç›®åˆ†æ

### å‚è€ƒä»£ç 
```

## Content

- [20220207 é‡åº†è‚²æ‰2022å¯’å‡é›†è®­ é€‰æ‹”æµ‹è¯•è¯•é¢˜](#20220207)
	- [T1 ç¤¾äº¤è·ç¦»(socdist)](#T1 ç¤¾äº¤è·ç¦»)
	- [T2 è·¯å¾„(path)](#T2 è·¯å¾„)
	- [T3 å€¾æ–œçš„çº¿(slope)](#T3 å€¾æ–œçš„çº¿)
	- [T4 ç¬¦æ–‡(runes)](#T4 ç¬¦æ–‡)
	- [T5 è´­ç¥¨(tickets)](#T5 è´­ç¥¨)
- [20220210 é‡åº†å¸‚è‚²æ‰ä¸­å­¦2022å¹´ å¯’å‡è”åˆæ¨¡æ‹Ÿ Round 3](#20220210)
	- [T1 å•†è´¸(trade)](#T1 å•†è´¸)
	- [T2 éƒ¨é˜Ÿé›†ç»“(gather)](#T2 éƒ¨é˜Ÿé›†ç»“)
	- [T3 è™«ç¾¤æ‰©å¼ (proliferate)](#T3 è™«ç¾¤æ‰©å¼ )
	- [T4 æ¨æ¼”(calc)](#T4 æ¨æ¼”)
- [20220212 é‡åº†å¸‚è‚²æ‰ä¸­å­¦2022å¹´ å¯’å‡è”åˆæ¨¡æ‹Ÿ Round 4](#20220212)
	- [T1 é­”æ³•é˜µ(magic)](#T1 é­”æ³•é˜µ)
	- [T2 åŒºåŸŸä¾¦æµ‹(detect)](#T2 åŒºåŸŸä¾¦æµ‹)
	- [T3 åŠ å›º(reinforce)](#T3 åŠ å›º)
	- [T4 æ–©é¦–è¡ŒåŠ¨(assassinate)](#T4 æ–©é¦–è¡ŒåŠ¨)
- [20220219 é‡åº†å¸‚è‚²æ‰ä¸­å­¦2022å¹´ è”åˆæ¨¡æ‹Ÿ](#20220219)
	- [T1 photo](#T1 photo)
	- [T2 swap](#T2 swap)
	- [T3 tree](#T3 tree)
	- [T4 rabbit](#T4 rabbit)
	- [T5 ball](#T5 ball)
- [20220226 é‡åº†å¸‚è‚²æ‰ä¸­å­¦2022å¹´ è”åˆæ¨¡æ‹Ÿ](#20220226)
	- [T1 è¾“å‡ºç»ƒä¹ (output)](#T1 è¾“å‡ºç»ƒä¹ )
	- [T2 æœ€è¿‘è·ç¦»(dis)](#T2 æœ€è¿‘è·ç¦»)
	- [T3 å­—å…¸åºé¢˜(sort)](#T3 å­—å…¸åºé¢˜)
	- [T4 åŒºé—´æ±‚å’Œ(sum)](#T4 åŒºé—´æ±‚å’Œ)
	- [T5 æ™ºæ…§åšå¼ˆ(game)](#T5 æ™ºæ…§åšå¼ˆ)
- [20220227 é‡åº†å¸‚è‚²æ‰ä¸­å­¦2022å¹´ å¯’å‡è”åˆæ¨¡æ‹Ÿ Round 5](#20220227)
	- [T1 çƒ½ç«çŸ³(tower)](#T1 çƒ½ç«çŸ³)
	- [T2 åšå¼ˆ(game)](#T2 åšå¼ˆ)
	- [T3 æŸ“è‰²(draw)](#T3 æŸ“è‰²)
	- [T4 æ’åˆ—è®¡æ•°(permutation)](#T4 æ’åˆ—è®¡æ•°)
	
## 20220207 

### T1 ç¤¾äº¤è·ç¦»

### é¢˜ç›®æè¿°

ä¸€ç§å¯æ€•çš„æ–°ç–¾ç—… COVID-19 å·²å¼€å§‹åœ¨ä¸–ç•Œå„åœ°ä¼ æ’­ã€‚äººä»¬è¯•å›¾é‡‡å–å°½å¯èƒ½å¤šçš„é¢„é˜²æªæ–½ä»¥ä¿æŠ¤è‡ªå·±å…å—æ„ŸæŸ“ï¼Œå…¶ä¸­æœ‰ä¸€é¡¹å°±æ˜¯å¢åŠ äººä¸äººä¹‹é—´çš„â€œç¤¾äº¤è·ç¦»â€ã€‚

ç°åœ¨è€ƒè™‘è¿™æ ·çš„ä¸€ä¸ªé—®é¢˜ï¼šåœ¨ç«è½¦ç«™çš„å€™è½¦å…æœ‰ä¸€æ’ç‹­çª„çš„åº§ä½ï¼Œè¿ç»­ N ä¸ªåº§ä½åœ¨ä¸€æ¡ç›´çº¿ä¸Šã€‚ è¿™äº›åº§ä½ä¸­æœ‰ä¸€äº›ç›®å‰è¢«äººå æ®ï¼Œæœ‰äº›ç©ºç€ã€‚ åœ¨äº†è§£äº†â€œç¤¾äº¤è·ç¦»â€Dçš„é‡è¦æ€§ä¹‹åï¼Œåæ¥çš„äººéƒ½å¸Œæœ›æœ€å¤§åŒ– Dï¼Œå…¶ä¸­ D æ˜¯æœ€è¿‘çš„ä¸¤ä¸ªè¢«å ç”¨çš„åº§ä½ä¹‹é—´çš„è·ç¦»ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœåº§ä½ 3 å’Œ 8 æ˜¯æœ€æ¥è¿‘çš„åº§ä½ï¼Œåˆ™ D = 5ã€‚

æœ€è¿‘æœ‰ä¸€ä¸ªæ–°çš„ä¹˜å®¢æ¥äº†æƒ³æ‰¾ä½å­åä¸‹ï¼Œä»–éœ€è¦ç¡®å®šåº”è¯¥åå“ªä¸ªä»¥å‰ç©ºç½®çš„åº§ä½ï¼Œä»¥ä½¿ D çš„æœ€ç»ˆå€¼ä»å°½å¯èƒ½å¤§ã€‚æ³¨æ„ï¼šå·²ç»åä¸‹æ¥çš„ä¹˜å®¢ä¸èƒ½åŠ¨ã€‚

### è¾“å…¥æè¿°

è¾“å…¥çš„ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° Nï¼Œè¡¨ç¤ºä¸€æ’ä¸Šè¿ç»­åº§ä½çš„ä¸ªæ•°ã€‚

ç¬¬äºŒè¡ŒåŒ…å«é•¿åº¦ Nï¼Œåˆ†åˆ«ä¸º 0 å’Œ 1 çš„å­—ç¬¦ä¸²ï¼Œæè¿°äº† N ä¸ªåº§ä½ä¸­çš„å ç”¨æƒ…å†µï¼Œ0 è¡¨ç¤ºç©ºåº§ä½ï¼Œ1 è¡¨ç¤ºå·²è¢«å ç”¨ã€‚

### è¾“å‡ºæè¿°

ä¸ºäº†é—®é¢˜ç®€å•åŒ–ï¼Œè¯¥å­—ç¬¦ä¸²è‡³å°‘æœ‰ä¸€ä¸ª 0ï¼Œå› æ­¤è‡³å°‘æœ‰åº§ä½è®©æ–°æ¥çš„ä¹˜å®¢è½åº§ï¼Œä¹Ÿè‡³å°‘æœ‰ä¸€ä¸ª 1ã€‚

### é¢˜ç›®åˆ†æ



### å‚è€ƒä»£ç 

```c++
#include<bits/stdc++.h>
#define read() FastRead(garbage)
using namespace std;
typedef long long van;
van garbage;
template<typename T> inline
T FastRead(T& x) {
	T f=1,b=0;char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b;return x;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0) {putchar('0');return;}
	van st[41]={0},k=0;
	while (x) st[++k]=x%10,x/=10;
	for (int i=k;i;i--) putchar('0'+st[i]);
}
const van MaxN=1e5+10;
char state[MaxN];van max_=-1e18,min_=1e18;
van ans=0;
int main() {
	freopen("socdist.in","r",stdin);
	freopen("socdist.out","w",stdout);
	van n;cin>>n; van lst=-1,st=-1;
	for (int i=1;i<=n;i++) cin>>state[i];
	for (int i=1;i<=n;i++) {
		if (state[i]=='1') {
			if (lst==-1){lst=i;st=i;continue;}
			max_=max(i-lst,max_);
			min_=min(min_,i-lst);
			lst=i;
		}
	} ans=max(min(min_,n-lst),min(min_,st-1));
	ans=max(ans,min(min_,max_/2)); print(ans);
	return 0;
}

```

### T2 è·¯å¾„

### é¢˜ç›®æè¿°

ç»™å‡ºä¸€æ£µnä¸ªèŠ‚ç‚¹çš„æ ‘ï¼ŒèŠ‚ç‚¹ç¼–å·ä¸º1~nï¼ˆæ ¹èŠ‚ç‚¹ç¼–å·ä¸º1ï¼‰ã€‚å¯¹äºæ¯ä¸€ä¸ªå¶å­èŠ‚ç‚¹ï¼Œè¾“å‡ºä»æ ¹åˆ°å¶å­çš„è·¯å¾„ã€‚

æ³¨æ„ï¼šæŒ‰ç…§è·¯å¾„çš„å­—å…¸åºä»å°åˆ°å¤§è¾“å‡ºã€‚

### è¾“å…¥æè¿°

ç¬¬ä¸€è¡Œï¼š1ä¸ªæ•°nï¼Œè¡¨ç¤ºæ ‘çš„èŠ‚ç‚¹æ•°é‡ã€‚

åé¢n-1è¡Œï¼šæ¯è¡Œ2ä¸ªæ•°x yï¼Œè¡¨ç¤ºèŠ‚ç‚¹xæ˜¯èŠ‚ç‚¹yçš„çˆ¶èŠ‚ç‚¹ã€‚

### è¾“å‡ºæè¿°

è¾“å‡ºè¡Œæ•°ç­‰äºå¶å­èŠ‚ç‚¹çš„æ•°é‡ï¼Œæ¯è¡Œå¯¹åº”ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ã€‚è·¯å¾„ä¸­çš„æ•°å­—ä¸ºç»è¿‡èŠ‚ç‚¹çš„ç¼–å·ã€‚æŒ‰ç…§è·¯å¾„çš„å­—å…¸åºä»å°åˆ°å¤§è¾“å‡ºã€‚

### é¢˜ç›®åˆ†æ

### å‚è€ƒä»£ç 

```c++
#include<bits/stdc++.h>
#define read() FastRead(garbage)
using namespace std;
typedef long long van;
van garbage;
template<typename T> inline
T FastRead(T& x) {
	T f=1,b=0;char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b;return x;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0) {putchar('0');return;}
	van st[41]={0},k=0;
	while (x) st[++k]=x%10,x/=10;
	for (int i=k;i;i--) putchar('0'+st[i]);
}
const van MaxN=1e5+10;
van n; vector<van> g[MaxN];
van st[MaxN],top=-1;
void DFS(van now=1) {
	st[++top]=now;
	if (g[now].size()==0) {
		for (int i=0;i<=top;i++) 
			print(st[i]),putchar(' ');
		putchar('\n'); top--;
		return;
	} for (int i=0;i<g[now].size();i++)
		DFS(g[now][i]); top--;
}
int main() {
	freopen("path.in","r",stdin);
	freopen("path.out","w",stdout);
	n=read(); for (int i=1;i<n;i++) {
		van f=read(),s=read();
		g[f].push_back(s);
	} for (int i=1;i<=n;i++) sort(g[i].begin(),g[i].end());
	DFS();
	return 0;
}

```

### T3 å€¾æ–œçš„çº¿

### é¢˜ç›®æè¿°

ç»™å®šä¸¤ä¸ªæ­£æ•´æ•° P å’Œ Qã€‚åœ¨äºŒç»´å¹³é¢ä¸Šæœ‰ n ä¸ªæ•´ç‚¹ã€‚ç°åœ¨è¯·ä½ æ‰¾åˆ°ä¸€å¯¹ç‚¹ä½¿å¾—ç»è¿‡å®ƒä»¬çš„ç›´çº¿çš„æ–œç‡åœ¨æ•°å€¼ä¸Šæœ€æ¥è¿‘ P/Qï¼ˆå³è¿™æ¡ç›´çº¿çš„æ–œç‡ä¸ P/Q çš„å·®æœ€å°ï¼‰ï¼Œè¯·è¾“å‡ºç»è¿‡å®ƒä»¬ç›´çº¿çš„æ–œç‡ p/qã€‚å¦‚æœæœ‰ä¸¤ç»„ç‚¹çš„æ–œç‡çš„æ¥è¿‘ç¨‹åº¦ç›¸åŒï¼Œè¯·è¾“å‡ºè¾ƒå°çš„æ–œç‡ã€‚

ä¿è¯ç­”æ¡ˆçš„ p/q > 0ï¼Œå³è¾“å‡ºçš„ p å’Œ q éƒ½æ˜¯æ­£æ•´æ•°ã€‚

### è¾“å…¥æè¿°

ç¬¬ä¸€è¡Œä¸‰ä¸ªæ­£æ•´æ•° n P Qã€‚

æ¥ä¸‹æ¥ n è¡Œæ¯è¡Œä¸¤ä¸ªæ­£æ•´æ•° x y è¡¨ç¤ºä¸€ä¸ªç‚¹çš„åæ ‡ã€‚ä¿è¯ä¸å­˜åœ¨ x åæ ‡ç›¸åŒæˆ–è€… yåæ ‡ç›¸åŒçš„ç‚¹ï¼ˆå³æ–œç‡ä¸ä¼šä¸ºæ— ç©·å¤§ä¸ 0ï¼‰

### è¾“å‡ºæè¿°

è¾“å‡ºä»…ä¸€è¡Œï¼Œæ ¼å¼ä¸º p/qï¼Œè¡¨ç¤ºæœ€æ¥è¿‘çš„æ–œç‡ï¼Œå…¶ä¸­ p å’Œ q éƒ½æ˜¯æ­£æ•´æ•°

### é¢˜ç›®åˆ†æ



### å‚è€ƒä»£ç 

```c++
#include<bits/stdc++.h>
#define read() FastRead(garbage)
using namespace std;
typedef __int128 van;
van garbage;
template<typename T> inline
T FastRead(T& x) {
	T f=1,b=0;char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b;return x;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0) {putchar('0');return;}
	van st[41]={0},k=0;
	while (x) st[++k]=x%10,x/=10;
	for (int i=k;i;i--) putchar('0'+st[i]);
}
template<typename T> inline
T abs(T x) {return x<0?-x:x;}
const van MaxN=2e5+10;
van n,P,Q,ansp=1,ansq=-1,id;
struct point {
	van x,y;
	point(){};
	point(van x,van y):x(x),y(y){};
	bool operator < (const point& a) const {
		if (x==a.x) return y<a.y;
		return x<a.x; 
	}
}p[MaxN];
struct point2 {
	van x,y,id;
	point2(){};
	point2(van x,van y,van id):x(x),y(y),id(id){};
	bool operator < (const point2& a) const {
		if (y==a.y) return x<a.x;
		return y<a.y; 
	}
}p2[MaxN];
bool judge2(van p1,van q1,van p2,van q2) {
	return p1*q2<p2*q1;
}
void SubTask2() {
	for (int i=1;i<=n;i++) p2[i]=point2(p[i].x,p[i].y*Q-p[i].x*P,i);
	sort(p2+1,p2+n+1); for (int i=1;i<=n-1;i++) {
		van a=i,b=i+1;
		van ansp1=abs(p2[a].y-p2[b].y),ansq1=abs(p2[a].x-p2[b].x);
		if (id==0) ansp=ansp1,ansq=ansq1,id=i;
		else if (judge2(ansp1,ansq1,ansp,ansq)) ansp=ansp1,ansq=ansq1,id=i;
	} van a=p2[id].id,b=p2[id+1].id;
	van resp=abs(p[a].y-p[b].y),resq=abs(p[a].x-p[b].x);
	van gcd=__gcd(resp,resq);resp/=gcd,resq/=gcd;
	print(resp),putchar('/'),print(resq);
}
int main() {
	freopen("slope.in","r",stdin);
	freopen("slope.out","w",stdout);
	n=read(),P=read(),Q=read(); 
	for (int i=1;i<=n;i++) {
		van x=read(),y=read();
		p[i]=point(x,y);
	}
	SubTask2();
	return 0;
}
```

### T4 ç¬¦æ–‡

### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º |s| çš„ç¬¦æ–‡ä¸² s å’Œä¸€ä¸ªé•¿åº¦ä¸º |p| çš„ç¬¦æ–‡ä¸² p ï¼Œå®šä¹‰ç¬¦æ–‡çš„ç­‰çº§r(s,p) è¡¨ç¤ºç¬¦æ–‡ä¸² s ä¸­æœ€å¤šæœ‰å¤šå°‘ä¸ªäº’ä¸é‡å çš„å­ä¸² p ã€‚

ç°åœ¨ä½ å¯ä»¥åœ¨ä»»æ„ä½ç½®åˆ é™¤ä»»æ„ä¸ªç¬¦æ–‡ã€‚

ä½ éœ€è¦ç®—å‡ºåœ¨åˆ é™¤ i (0â‰¤iâ‰¤|s|)ä¸ªç¬¦æ–‡åå¾—åˆ°çš„ç¬¦æ–‡ä¸²tiçš„r(ti,p)ã€‚

### è¾“å…¥æè¿°

ç¬¬ä¸€è¡Œæ˜¯ç¬¦æ–‡ä¸²sã€‚

ç¬¬äºŒè¡Œæ˜¯ç¬¦æ–‡ä¸²pã€‚

### è¾“å‡ºæè¿°

è¾“å‡º(|s|+1)ä¸ªæ•°ï¼Œç¬¬iä¸ªæ•°è¡¨ç¤ºåˆ é™¤i-1ä¸ªç¬¦æ–‡åå¾—åˆ°çš„ç¬¦æ–‡ä¸²ti-1çš„r(ti-1,p)ã€‚

### é¢˜ç›®åˆ†æ



### å‚è€ƒä»£ç 

```c++
#include<bits/stdc++.h>
#define read() FastRead(garbage)
using namespace std;
typedef long long van;
van garbage;
template<typename T> inline
T FastRead(T& x) {
	T f=1,b=0;
	char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	}
	while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b;
	return x;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0) {
		putchar('0');
		return;
	}
	van st[41]= {0},k=0;
	while (x) st[++k]=x%10,x/=10;
	for (int i=k; i; i--) putchar('0'+st[i]);
}
const van MaxN=2e3+10;
const van MaxM=5e2+10;
string s,p;
van f[MaxN][MaxN];
van w[MaxN];
int main() {
	freopen("runes.in","r",stdin);
	freopen("runes.out","w",stdout);
	cin>>s>>p;
	van n=s.size(),m=p.size();
	memset(w,-1,sizeof w);
	for (int i=0; i<n; i++) {
		van k=0;
		for (int j=i; j<n; j++) {
			if (s[j]==p[k]) k++;
			if (k==p.size()) {
				w[i+1]=j-i+1;
				break;
			}
		}
	}
	memset(f,-1,sizeof f);
	f[0][0]=0;
	for (int i=1; i<=n; i++) {
		for (int j=0; j<=i; j++) {
			f[i][j]=max(f[i][j],f[i-1][j]);
			f[i][j+1]=max(f[i][j+1],f[i-1][j]);
			if (w[i]!=-1)
				f[i+w[i]-1][j+w[i]-m]=max(f[i+w[i]-1][j+w[i]-m],f[i-1][j]+1);
		}
	}
	for (int i=0; i<=n; i++) print(f[n][i]),putchar(' ');
	return 0;
}
```

### T5 è´­ç¥¨

### é¢˜ç›®æè¿°

æ—…è¡Œçš„è·¯çº¿ç”±ç¼–å·ä¸º 1â€¦Nï¼ˆ1â‰¤Nâ‰¤10^5ï¼‰çš„ N ä¸ªæ£€æŸ¥ç‚¹ç»„æˆã€‚æœ‰ Kï¼ˆ1â‰¤Kâ‰¤10^5ï¼‰å¼ ç¥¨å¯ä¾›è´­ä¹°ã€‚ç¬¬ i å¼ ç¥¨å¯ä»¥åœ¨æ£€æŸ¥ç«™ ciï¼ˆ1â‰¤ciâ‰¤Nï¼‰ä»¥ piï¼ˆ1â‰¤piâ‰¤10^9ï¼‰çš„ä»·æ ¼è´­å¾—ï¼Œå¹¶ä¸”å¯ä»¥ç”¨å…¶è¿›å…¥æ‰€æœ‰æ£€æŸ¥ç«™ [ai,bi]ï¼ˆ1â‰¤aiâ‰¤biâ‰¤Nï¼‰ã€‚åœ¨è¿›å…¥ä»»ä½•æ£€æŸ¥ç«™ä¹‹å‰ï¼Œå¿…é¡»å·²è´­ä¹°ä¸€å¼ å…è®¸å…¶è¿›å…¥è¯¥æ£€æŸ¥ç«™çš„ç¥¨ã€‚ä¸€æ—¦å¯ä»¥å‰å¾€æŸä¸€æ£€æŸ¥ç«™ï¼Œå°±å¯ä»¥åœ¨æœªæ¥çš„ä»»ä½•æ—¶å€™å›åˆ°è¯¥æ£€æŸ¥ç«™ã€‚å¯¹äºæ¯ä¸€ä¸ª iâˆˆ[1,N]ï¼Œå¦‚æœæœ€åˆåªèƒ½è¿›å…¥æ£€æŸ¥ç‚¹ iï¼Œè¾“å‡ºä½¿å¾—å¯ä»¥è¿›å…¥æ£€æŸ¥ç‚¹ 1 å’Œ N æ‰€éœ€çš„æœ€ä½æ€»ä»·ã€‚å¦‚æœæ— æ³•è¿™æ ·åšï¼Œè¾“å‡º âˆ’1

### è¾“å…¥æè¿°

è¾“å…¥çš„ç¬¬ä¸€è¡ŒåŒ…å« N å’Œ Kã€‚

ä»¥ä¸‹ Kè¡Œï¼Œå¯¹äºæ¯ä¸€ä¸ª 1â‰¤iâ‰¤Kï¼Œç¬¬ i è¡ŒåŒ…å«å››ä¸ªæ•´æ•° ciï¼Œpiï¼Œai å’Œ bi

### è¾“å‡ºæè¿°

è¾“å‡º Nè¡Œï¼Œæ¯è¡Œè¾“å‡ºä¸€ä¸ªæ£€æŸ¥ç‚¹çš„ç­”æ¡ˆã€‚

### é¢˜ç›®åˆ†æ



### å‚è€ƒä»£ç 

```c++
#include<bits/stdc++.h>
#define read() FastRead(garbage)
using namespace std;
typedef long long van;
van garbage;
template<typename T> inline
T FastRead(T& x) {
	T f=1,b=0;char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b;return x;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0) {putchar('0');return;}
	van st[41]={0},k=0;
	while (x) st[++k]=x%10,x/=10;
	for (int i=k;i;i--) putchar('0'+st[i]);
}
const van MaxN=1e5+10;
struct ticket{
	van p,c,a,b;
	ticket(){};
	ticket(van p,van c,van a,van b):p(p),c(c),a(a),b(b){};
}t[MaxN];
struct Edge {
	van u,v,w;
	Edge(van u,van v,van w):u(u),v(v),w(w){};
};
van n,k; van id[MaxN];
vector<Edge> g[MaxN*6];

void Connect(van from,van to,van w) {
	g[from].push_back(Edge(from,to,w));
}
void BuildTree(van p=1,van l=1,van r=n) {
	if (l==r) {id[l]=p;return;} van mid=(l+r)>>1;
	Connect(p*2,p,0); Connect(p*2+1,p,0);
	BuildTree(p*2,l,mid); BuildTree(p*2+1,mid+1,r);
} 
void Update(van L,van R,van from,van p=1,van l=1,van r=n) {
	if (L<=l&&r<=R) {
		Connect(p,from,0);
		return;
	} van mid=(l+r)>>1;
	if (L<=mid) Update(L,R,from,p*2,l,mid);
	if (R>mid) Update(L,R,from,p*2+1,mid+1,r);
}
struct state {
	van dis,id;
	state(van dis,van id):dis(dis),id(id){};
	bool operator < (const state& a) const {
		return dis>a.dis;
	}
}; priority_queue<state> q;
van dis[MaxN*6]; bool used[MaxN*6];
van dis1[MaxN*6],dis2[MaxN*6];
void Dijkstra(van st,bool ahhh=true) {
	memset(used,0,sizeof used);
	for (int i=1;i<=5*n+k;i++) dis[i]=1e18;
	if (ahhh) dis[st]=0,q.push(state(dis[st],st));
	else {
		memcpy(dis,dis1,sizeof dis);
		for (int i=1;i<=5*n+k;i++) q.push(state(dis[i],i));
	}
	while (!q.empty()) {
		van now=q.top().id; q.pop();
		if (used[now]) continue; used[now]=1;
		for (int i=0;i<g[now].size();i++) {
			Edge e=g[now][i];
			if (dis[e.v]>dis[now]+e.w) {
				dis[e.v]=dis[now]+e.w;
				q.push(state(dis[e.v],e.v));
			}
		}
	}
}
int main() {
	n=read(),k=read(); BuildTree();
	for (int i=1;i<=k;i++) {
		van p=read(),c=read(),a=read(),b=read();
		t[i]=ticket(p,c,a,b);
		Update(a,b,4*n+i);
		Connect(4*n+i,id[p],c);
	} Dijkstra(id[1]); memcpy(dis1,dis,sizeof dis1);
	Dijkstra(id[n]); for (int i=1;i<=n*5+k;i++) dis1[i]+=dis[i];
	Dijkstra(0,false); for (int i=1;i<=n;i++)
		print(dis[id[i]]>=1e18?-1:dis[id[i]]),putchar('\n');
	return 0;
}
```

## 20220210

### T1 å•†è´¸

### é¢˜ç›®æè¿°

å‹‡è€…å°ğ´é€šè¿‡å¯»å®æå‡è‡ªå·±çš„å®åŠ›ä¹‹åä»ç„¶æ— æ³•æˆ˜èƒœè™«ç¾¤ï¼Œä»–ç»ˆäºæ„è¯†åˆ°äº†ä¸€ä¸ªäººçš„åŠ›é‡ç»ˆç©¶æ—¶æœ‰æé™çš„ï¼Œå› æ­¤ï¼Œä»–å†³å®šå¼€å§‹æ‹›å…µä¹°é©¬ï¼Œç„¶è€Œï¼Œä¸€ä¸ªå¾ˆç°å®çš„é—®é¢˜æ‘†åœ¨ä»–çš„é¢å‰â€”â€”ä»–æ²¡æœ‰é’±ã€‚æ‰€å¹¸ä»–ç°åœ¨æ‰€åœ¨çš„å›½å®¶æ˜¯ä¸€ä¸ªå•†è´¸éå¸¸å‘è¾¾çš„å•†ä¸šå…±å’Œå›½ï¼Œä»–å¯ä»¥ä»ä¸­è·‘å•†èµšé’±ã€‚å…±å’Œå›½å†…æœ‰ğ‘åº§åŸå¸‚ï¼Œç¼–å·ä¸º1,2,3 â€¦ ğ‘ã€‚ç”±ğ‘€æ¡å•å‘çš„é“è·¯è¿æ¥ã€‚å°ğ´æ¯ä¸€æ¬¡åˆ°è¾¾åŸå¸‚ğ‘–éƒ½å¯ä»¥è·å¾—ğ‘šğ‘–çš„æ”¶ç›Šã€‚å°ğ´æœ€å¼€å§‹ä½äºåŸå¸‚1ï¼Œæœ€åä¹Ÿå¿…é¡»å›åˆ°ç¼–å·ä¸º1çš„åŸå¸‚ã€‚ä¸è¿‡èº«ä¸ºå‹‡è€…çš„å°ğ´çš„æ—¶é—´æ˜¯éå¸¸å®è´µçš„ï¼Œæ²¿ç€ä¸€æ¡é“è·¯ä»ä¸€åº§åŸå¸‚åˆ°è¾¾å¦ä¸€åº§åŸå¸‚éœ€è¦èŠ±è´¹ä¸€å¤©çš„æ—¶é—´ã€‚ä¸ºäº†é‡åŒ–å°ğ´èŠ±è´¹æ—¶é—´è´¸æ˜“çš„ä»£ä»·ï¼Œæˆ‘ä»¬è®¤ä¸ºå°ğ´èŠ±è´¹ğ‘‡æ—¶é—´è´¸æ˜“çš„æˆæœ¬ä¸ºğ¶ Ã— ğ‘‡^2ã€‚

ä½ éœ€è¦è®¡ç®—å‡ºå°ğ´å¯èƒ½å¾—åˆ°çš„æœ€é«˜æ”¶ç›Šã€‚

### è¾“å…¥æè¿°

ç¬¬ä¸€è¡Œè¾“å…¥ä¸‰ä¸ªæ­£æ•´æ•°ğ‘, ğ‘€, ğ¶(2 â‰¤ ğ‘ â‰¤ 1000,1 â‰¤ ğ‘€ â‰¤ 2000,1 â‰¤ ğ¶ â‰¤ 1000)ï¼Œå«ä¹‰è§é¢˜é¢ã€‚è¾“å…¥çš„ç¬¬äºŒè¡ŒåŒ…æ‹¬ğ‘ä¸ªæ•´æ•°ï¼Œç¬¬ğ‘–ä¸ªæ•´æ•°å³ä¸ºğ‘šğ‘–(0 â‰¤ ğ‘šğ‘– â‰¤ 1000)ã€‚ä¸ºäº†é¿å…äº‰è®®ï¼Œæˆ‘ä»¬ä¿è¯ğ‘š1 = 0ã€‚

æ¥ä¸‹æ¥çš„ğ‘€è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªç”¨ç©ºæ ¼éš”å¼€çš„æ­£æ•´æ•°ğ‘, ğ‘(ğ‘ â‰  ğ‘)ï¼Œè¡¨ç¤ºä¸€æ¡ä»åŸå¸‚ğ‘åˆ°åŸå¸‚ğ‘çš„å•å‘é€šé“ã€‚

### è¾“å‡ºæè¿°

è¾“å‡ºä¸€è¡Œï¼Œè¡¨ç¤ºå°ğ´é€šè¿‡è´¸æ˜“å¯ä»¥è·å¾—çš„æœ€å¤§æ”¶ç›Šã€‚

### é¢˜ç›®åˆ†æ



### å‚è€ƒä»£ç 

```c++
#include<bits/stdc++.h>
using namespace std;
typedef long long van;
template<typename T> inline
void read(T& x) {
	T f=1,b=0;char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b; return;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0) {putchar('0');return;}
	van st[42]={0},k=0;
	while (x) st[++k]=x%10,x/=10;
	for (int i=k;i;i--) putchar(st[i]+'0');
}
van n,k;
const van MaxN=1e3+10;
vector<van> g[MaxN];
bool used[MaxN];
van f[MaxN][MaxN],c,w[MaxN];
int main() {
	freopen("trade.in","r",stdin);
	freopen("trade.out","w",stdout);
	read(n),read(k),read(c);
	for (int i=1;i<=n;i++) read(w[i]);
	for (int i=1;i<=k;i++) {
		van f,s; read(f),read(s);
		g[f].push_back(s);
	} for (int i=1;i<=n;i++) {
		for (int j=0;j<=1000;j++) {
			f[i][j]=-1e18;
		}
	} f[1][0]=0;
	for (int i=1;i<=1000;i++) {
		for (int j=1;j<=n;j++) {
			for (int k=0;k<g[j].size();k++) {
				van e=g[j][k];
				f[e][i]=max(f[e][i],f[j][i-1]+w[e]);
			}
		}
	} van ans=0;
	for (int i=0;i<=1000;i++)
		ans=max(f[1][i]-c*i*i,ans);
	print(ans);
	return 0;
}
```

### T2 éƒ¨é˜Ÿé›†ç»“

### é¢˜ç›®æè¿°

å°ğ´éœ€è¦é›†ç»“ä»–çš„éƒ¨é˜Ÿã€‚é€šè¿‡ä½¿ç”¨é’èƒ½åŠ›ï¼Œå°ğ´å·²ç»æ‹›å‹Ÿåˆ°äº†ğ‘åå¸¸å¹´æ¸¸èµ°äºåˆ€å‰‘ä¹‹ä¸Šçš„è€ç»ƒé›‡ä½£å…µï¼Œç°åœ¨ï¼Œä»–ä»¬æ‹æˆä¸€åˆ—ï¼Œç¼–å·ä»1åˆ°ğ‘ï¼Œæ­£åœ¨æ¥å—å°ğ´çš„æ£€é˜…ã€‚

å°ğ´ä¹Ÿéœ€è¦å°†è¿™ğ‘åé›‡ä½£å…µåˆ†æˆå°é˜Ÿè¡ŒåŠ¨ï¼Œä½†æ˜¯ï¼Œé¢†é˜Ÿçš„é€‰æ‹©æˆä¸ºäº†æ‰“é—®é¢˜ã€‚å…·ä½“æ¥è¯´ï¼Œå°ğ´åªèƒ½å¤Ÿé€‰æ‹©ä¸€ä¸ªè¿ç»­çš„ç¼–å·åŒºé—´[ğ‘™, ğ‘Ÿ]ä½œä¸ºå°é˜Ÿè¡ŒåŠ¨ï¼Œæ‰€æœ‰ç¼–å·ğ‘™ â‰¤ ğ‘– â‰¤ ğ‘Ÿçš„é›‡ä½£å…µğ‘–ä¼šåŠ å…¥å°é˜Ÿï¼Œé›‡ä½£å…µğ‘™, ğ‘Ÿä¼šä½œä¸ºé¢†é˜Ÿã€‚ç„¶è€Œï¼Œä¸åŒçš„é›‡ä½£å…µæœ‰è‡ªå·±çš„æŠ€æœ¯å€¾å‘ï¼Œå…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ•°å­—ğ‘ğ‘–æ¥æè¿°ç¼–å·ä¸ºğ‘–çš„é›‡ä½£å…µçš„æŠ€æœ¯å€¾å‘ï¼Œå¦‚æœé˜Ÿé•¿çš„æŠ€æœ¯å€¾å‘ä¸é˜Ÿå†…çš„å…¶ä»–æˆå‘˜(åŒ…æ‹¬å¦ä¸€ä½é˜Ÿé•¿)ç›¸åŒï¼Œé‚£ä¹ˆè¿™ä¸ªé˜Ÿä¼å°±æ— æ³•å’Œç¦ç›¸å¤„ã€‚

ä½ çš„ä»»åŠ¡æ˜¯å¸®åŠ©å°ğ´è®¡ç®—å‡ºæœ‰å¤šå°‘ä¸ªåŒºé—´å¯ä»¥åˆ’åˆ†å‡ºä¸€ä¸ªå’Œç¦ç›¸å¤„çš„å°é˜Ÿã€‚

### è¾“å…¥æè¿°

è¾“å…¥çš„ç¬¬ä¸€è¡ŒåŒ…æ‹¬ä¸€ä¸ªæ•´æ•°ğ‘(1 â‰¤ ğ‘ â‰¤ 2 Ã— 10^5)ã€‚å«ä¹‰è§é¢˜é¢ã€‚
ç¬¬äºŒè¡ŒåŒ…å«ğ‘ä¸ªæ•´æ•°ğ‘1, ğ‘2, ğ‘3 â€¦ ğ‘ğ‘(1 â‰¤ ğ‘ğ‘– â‰¤ ğ‘)ã€‚å«ä¹‰è§é¢˜é¢ã€‚

### è¾“å‡ºæè¿°

è¾“å‡ºä¸€è¡Œä¸€ä¸ªæ­£æ•´æ•°è¡¨ç¤ºå¯ä»¥åˆ’åˆ†å‡ºå’Œç¦ç›¸å¤„å°é˜Ÿçš„åŒºé—´çš„æ•°ç›®ã€‚

### é¢˜ç›®åˆ†æ



### å‚è€ƒä»£ç 

```c++
#include<bits/stdc++.h>
using namespace std;
typedef long long van;
template<typename T> inline
void read(T& x) {
	T f=1,b=0;char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b; return;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0) {putchar('0');return;}
	van st[42]={0},k=0;
	while (x) st[++k]=x%10,x/=10;
	for (int i=k;i;i--) putchar(st[i]+'0');
}
const van MaxN=2e5+10;
van n,a[MaxN]; vector<van> waited_delete[MaxN];
van nxt[MaxN],pre[MaxN],now[MaxN],ans=0;
struct SegmentTree {
	van dat[MaxN<<2];
	void UpdateTree(van wh,van num,van p=1,van l=1,van r=n) {
		if (l==r) {dat[p]+=num;return;}
		van mid=(l+r)>>1;
		if (wh<=mid) UpdateTree(wh,num,p*2,l,mid);
		else UpdateTree(wh,num,p*2+1,mid+1,r);
		dat[p]=dat[p*2]+dat[p*2+1];
	}
	van QueryTree(van L,van R,van p=1,van l=1,van r=n) {
		if (L<=l&&r<=R) return dat[p];
		van sum=0,mid=(l+r)>>1;
		if (L<=mid) sum+=QueryTree(L,R,p*2,l,mid);
		if (R>mid) sum+=QueryTree(L,R,p*2+1,mid+1,r);
		return sum;
	}
}T;
int main() {
	freopen("gather.in","r",stdin);
	freopen("gather.out","w",stdout);
	read(n); for (int i=1;i<=n;i++) read(a[i]);
	for (int i=1;i<=n;i++) 
		pre[i]=now[a[i]],nxt[now[a[i]]]=i,now[a[i]]=i;
	for (int i=1;i<=n;i++) if (nxt[i]==0) nxt[i]=n+1;
	for (int i=n;i;i--) {
		for (int j=0;j<waited_delete[i].size();j++) {
			van id=waited_delete[i][j];
			T.UpdateTree(id,-1);
		} ans+=T.QueryTree(i+1,nxt[i]-1); // cout<<i<<" "<<T.QueryTree(i+1,nxt[i]-1)<<endl;
		T.UpdateTree(i,1); waited_delete[pre[i]].push_back(i);
	} print(ans);
	return 0;
}
```

### T3 è™«ç¾¤æ‰©å¼ 

### é¢˜ç›®æè¿°
### è¾“å…¥æè¿°
### è¾“å‡ºæè¿°
### é¢˜ç›®åˆ†æ
### å‚è€ƒä»£ç 

### T4 æ¨æ¼”

### é¢˜ç›®æè¿°
### è¾“å…¥æè¿°
### è¾“å‡ºæè¿°
### é¢˜ç›®åˆ†æ
### å‚è€ƒä»£ç 

## 20220212

### T1 é­”æ³•é˜µ

### é¢˜ç›®æè¿°
### è¾“å…¥æè¿°
### è¾“å‡ºæè¿°
### é¢˜ç›®åˆ†æ
### å‚è€ƒä»£ç 

### T2 åŒºåŸŸä¾¦æµ‹

### é¢˜ç›®æè¿°
### è¾“å…¥æè¿°
### è¾“å‡ºæè¿°
### é¢˜ç›®åˆ†æ
### å‚è€ƒä»£ç 

### T3 åŠ å›º

### é¢˜ç›®æè¿°
### è¾“å…¥æè¿°
### è¾“å‡ºæè¿°
### é¢˜ç›®åˆ†æ
### å‚è€ƒä»£ç 

### T4 æ–©é¦–è¡ŒåŠ¨

### é¢˜ç›®æè¿°
### è¾“å…¥æè¿°
### è¾“å‡ºæè¿°
### é¢˜ç›®åˆ†æ
### å‚è€ƒä»£ç 

## 20220219

### T1 photo

### é¢˜ç›®æè¿°
### è¾“å…¥æè¿°
### è¾“å‡ºæè¿°
### é¢˜ç›®åˆ†æ
### å‚è€ƒä»£ç 

### T2 swap

### é¢˜ç›®æè¿°
### è¾“å…¥æè¿°
### è¾“å‡ºæè¿°
### é¢˜ç›®åˆ†æ
### å‚è€ƒä»£ç 

### T3 tree

### é¢˜ç›®æè¿°
### è¾“å…¥æè¿°
### è¾“å‡ºæè¿°
### é¢˜ç›®åˆ†æ
### å‚è€ƒä»£ç 

### T4 rabbit

### é¢˜ç›®æè¿°
### è¾“å…¥æè¿°
### è¾“å‡ºæè¿°
### é¢˜ç›®åˆ†æ
### å‚è€ƒä»£ç 

### T5 ball

### é¢˜ç›®æè¿°
### è¾“å…¥æè¿°
### è¾“å‡ºæè¿°
### é¢˜ç›®åˆ†æ
### å‚è€ƒä»£ç 

## 20220226

### T1 è¾“å‡ºç»ƒä¹ 

### é¢˜ç›®æè¿°
### è¾“å…¥æè¿°
### è¾“å‡ºæè¿°
### é¢˜ç›®åˆ†æ
### å‚è€ƒä»£ç 

### T2 æœ€è¿‘è·ç¦»

### é¢˜ç›®æè¿°
### è¾“å…¥æè¿°
### è¾“å‡ºæè¿°
### é¢˜ç›®åˆ†æ
### å‚è€ƒä»£ç 

### T3 å­—å…¸åºé¢˜

### é¢˜ç›®æè¿°
### è¾“å…¥æè¿°
### è¾“å‡ºæè¿°
### é¢˜ç›®åˆ†æ
### å‚è€ƒä»£ç 

### T4 åŒºé—´æ±‚å’Œ

### é¢˜ç›®æè¿°
### è¾“å…¥æè¿°
### è¾“å‡ºæè¿°
### é¢˜ç›®åˆ†æ
### å‚è€ƒä»£ç 

### T5 æ™ºæ…§åšå¼ˆ

### é¢˜ç›®æè¿°
### è¾“å…¥æè¿°
### è¾“å‡ºæè¿°
### é¢˜ç›®åˆ†æ
### å‚è€ƒä»£ç 

## 20220227

### T1 çƒ½ç«çŸ³

### é¢˜ç›®æè¿°
### è¾“å…¥æè¿°
### è¾“å‡ºæè¿°
### é¢˜ç›®åˆ†æ
### å‚è€ƒä»£ç 

### T2 åšå¼ˆ

### é¢˜ç›®æè¿°
### è¾“å…¥æè¿°
### è¾“å‡ºæè¿°
### é¢˜ç›®åˆ†æ
### å‚è€ƒä»£ç 

### T3 æŸ“è‰²

### é¢˜ç›®æè¿°
### è¾“å…¥æè¿°
### è¾“å‡ºæè¿°
### é¢˜ç›®åˆ†æ
### å‚è€ƒä»£ç 

### T4 æ’åˆ—è®¡æ•°

### é¢˜ç›®æè¿°
### è¾“å…¥æè¿°
### è¾“å‡ºæè¿°
### é¢˜ç›®åˆ†æ
### å‚è€ƒä»£ç 
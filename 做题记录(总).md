# åšé¢˜è®°å½•

## æ¨¡æ¿è®°å½•

```md
## Tx é¢˜ç›®åç§°

### é¢˜ç›®æè¿°

### é¢˜ç›®åˆ†æ

### å‚è€ƒä»£ç 
```

## Content

- [20220207 é‡åº†è‚²æ‰2022å¯’å‡é›†è®­ é€‰æ‹”æµ‹è¯•è¯•é¢˜](#20220207)
	- [T1 ç¤¾äº¤è·ç¦»(socdist)](#T1 ç¤¾äº¤è·ç¦»)
	- [T2 è·¯å¾„(path)](#T2 è·¯å¾„)
	- [T3 å€¾æ–œçš„çº¿(slope)](#T3 å€¾æ–œçš„çº¿)
	- [T4 ç¬¦æ–‡(runes)](#T4 ç¬¦æ–‡)
	- [T5 è´­ç¥¨(tickets)](#T5 è´­ç¥¨)
- [20220210 é‡åº†å¸‚è‚²æ‰ä¸­å­¦2022å¹´ å¯’å‡è”åˆæ¨¡æ‹Ÿ Round 3](#20220210)
	- [T1 å•†è´¸(trade)](#T1 å•†è´¸)
	- [T2 éƒ¨é˜Ÿé›†ç»“(gather)](#T2 éƒ¨é˜Ÿé›†ç»“)
	- [T3 è™«ç¾¤æ‰©å¼ (proliferate)](#T3 è™«ç¾¤æ‰©å¼ )
	- [T4 æ¨æ¼”(calc)](#T4 æ¨æ¼”)
- [20220212 é‡åº†å¸‚è‚²æ‰ä¸­å­¦2022å¹´ å¯’å‡è”åˆæ¨¡æ‹Ÿ Round 4](#20220212)
	- [T1 é­”æ³•é˜µ(magic)](#T1 é­”æ³•é˜µ)
	- [T2 åŒºåŸŸä¾¦æµ‹(detect)](#T2 åŒºåŸŸä¾¦æµ‹)
	- [T3 åŠ å›º(reinforce)](#T3 åŠ å›º)
	- [T4 æ–©é¦–è¡ŒåŠ¨(assassinate)](#T4 æ–©é¦–è¡ŒåŠ¨)
- [20220219 é‡åº†å¸‚è‚²æ‰ä¸­å­¦2022å¹´ è”åˆæ¨¡æ‹Ÿ](#20220219)
	- [T1 photo](#T1 photo)
	- [T2 swap](#T2 swap)
	- [T3 tree](#T3 tree)
	- [T4 rabbit](#T4 rabbit)
	- [T5 ball](#T5 ball)
- [20220226 é‡åº†å¸‚è‚²æ‰ä¸­å­¦2022å¹´ è”åˆæ¨¡æ‹Ÿ](#20220226)
	- [T1 è¾“å‡ºç»ƒä¹ (output)](#T1 è¾“å‡ºç»ƒä¹ )
	- [T2 æœ€è¿‘è·ç¦»(dis)](#T2 æœ€è¿‘è·ç¦»)
	- [T3 å­—å…¸åºé¢˜(sort)](#T3 å­—å…¸åºé¢˜)
	- [T4 åŒºé—´æ±‚å’Œ(sum)](#T4 åŒºé—´æ±‚å’Œ)
	- [T5 æ™ºæ…§åšå¼ˆ(game)](#T5 æ™ºæ…§åšå¼ˆ)
- [20220227 é‡åº†å¸‚è‚²æ‰ä¸­å­¦2022å¹´ å¯’å‡è”åˆæ¨¡æ‹Ÿ Round 5](#20220227)
	- [T1 çƒ½ç«çŸ³(tower)](#T1 çƒ½ç«çŸ³)
	- [T2 åšå¼ˆ(game)](#T2 åšå¼ˆ)
	- [T3 æŸ“è‰²(draw)](#T3 æŸ“è‰²)
	- [T4 æ’åˆ—è®¡æ•°(permutation)](#T4 æ’åˆ—è®¡æ•°)
	
## 20220207 

### T1 ç¤¾äº¤è·ç¦»

### é¢˜ç›®æè¿°

ä¸€ç§å¯æ€•çš„æ–°ç–¾ç—… COVID-19 å·²å¼€å§‹åœ¨ä¸–ç•Œå„åœ°ä¼ æ’­ã€‚äººä»¬è¯•å›¾é‡‡å–å°½å¯èƒ½å¤šçš„é¢„é˜²æªæ–½ä»¥ä¿æŠ¤è‡ªå·±å…å—æ„ŸæŸ“ï¼Œå…¶ä¸­æœ‰ä¸€é¡¹å°±æ˜¯å¢åŠ äººä¸äººä¹‹é—´çš„â€œç¤¾äº¤è·ç¦»â€ã€‚

ç°åœ¨è€ƒè™‘è¿™æ ·çš„ä¸€ä¸ªé—®é¢˜ï¼šåœ¨ç«è½¦ç«™çš„å€™è½¦å…æœ‰ä¸€æ’ç‹­çª„çš„åº§ä½ï¼Œè¿ç»­ N ä¸ªåº§ä½åœ¨ä¸€æ¡ç›´çº¿ä¸Šã€‚ è¿™äº›åº§ä½ä¸­æœ‰ä¸€äº›ç›®å‰è¢«äººå æ®ï¼Œæœ‰äº›ç©ºç€ã€‚ åœ¨äº†è§£äº†â€œç¤¾äº¤è·ç¦»â€Dçš„é‡è¦æ€§ä¹‹åï¼Œåæ¥çš„äººéƒ½å¸Œæœ›æœ€å¤§åŒ– Dï¼Œå…¶ä¸­ D æ˜¯æœ€è¿‘çš„ä¸¤ä¸ªè¢«å ç”¨çš„åº§ä½ä¹‹é—´çš„è·ç¦»ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœåº§ä½ 3 å’Œ 8 æ˜¯æœ€æ¥è¿‘çš„åº§ä½ï¼Œåˆ™ D = 5ã€‚

æœ€è¿‘æœ‰ä¸€ä¸ªæ–°çš„ä¹˜å®¢æ¥äº†æƒ³æ‰¾ä½å­åä¸‹ï¼Œä»–éœ€è¦ç¡®å®šåº”è¯¥åå“ªä¸ªä»¥å‰ç©ºç½®çš„åº§ä½ï¼Œä»¥ä½¿ D çš„æœ€ç»ˆå€¼ä»å°½å¯èƒ½å¤§ã€‚æ³¨æ„ï¼šå·²ç»åä¸‹æ¥çš„ä¹˜å®¢ä¸èƒ½åŠ¨ã€‚

### é¢˜ç›®åˆ†æ



### å‚è€ƒä»£ç 

```c++
#include<bits/stdc++.h>
#define read() FastRead(garbage)
using namespace std;
typedef long long van;
van garbage;
template<typename T> inline
T FastRead(T& x) {
	T f=1,b=0;char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b;return x;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0) {putchar('0');return;}
	van st[41]={0},k=0;
	while (x) st[++k]=x%10,x/=10;
	for (int i=k;i;i--) putchar('0'+st[i]);
}
const van MaxN=1e5+10;
char state[MaxN];van max_=-1e18,min_=1e18;
van ans=0;
int main() {
	freopen("socdist.in","r",stdin);
	freopen("socdist.out","w",stdout);
	van n;cin>>n; van lst=-1,st=-1;
	for (int i=1;i<=n;i++) cin>>state[i];
	for (int i=1;i<=n;i++) {
		if (state[i]=='1') {
			if (lst==-1){lst=i;st=i;continue;}
			max_=max(i-lst,max_);
			min_=min(min_,i-lst);
			lst=i;
		}
	} ans=max(min(min_,n-lst),min(min_,st-1));
	ans=max(ans,min(min_,max_/2)); print(ans);
	return 0;
}

```

### T2 è·¯å¾„

### é¢˜ç›®æè¿°

ç»™å‡ºä¸€æ£µnä¸ªèŠ‚ç‚¹çš„æ ‘ï¼ŒèŠ‚ç‚¹ç¼–å·ä¸º1~nï¼ˆæ ¹èŠ‚ç‚¹ç¼–å·ä¸º1ï¼‰ã€‚å¯¹äºæ¯ä¸€ä¸ªå¶å­èŠ‚ç‚¹ï¼Œè¾“å‡ºä»æ ¹åˆ°å¶å­çš„è·¯å¾„ã€‚

æ³¨æ„ï¼šæŒ‰ç…§è·¯å¾„çš„å­—å…¸åºä»å°åˆ°å¤§è¾“å‡ºã€‚

### é¢˜ç›®åˆ†æ

### å‚è€ƒä»£ç 

```c++
#include<bits/stdc++.h>
#define read() FastRead(garbage)
using namespace std;
typedef long long van;
van garbage;
template<typename T> inline
T FastRead(T& x) {
	T f=1,b=0;char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b;return x;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0) {putchar('0');return;}
	van st[41]={0},k=0;
	while (x) st[++k]=x%10,x/=10;
	for (int i=k;i;i--) putchar('0'+st[i]);
}
const van MaxN=1e5+10;
van n; vector<van> g[MaxN];
van st[MaxN],top=-1;
void DFS(van now=1) {
	st[++top]=now;
	if (g[now].size()==0) {
		for (int i=0;i<=top;i++) 
			print(st[i]),putchar(' ');
		putchar('\n'); top--;
		return;
	} for (int i=0;i<g[now].size();i++)
		DFS(g[now][i]); top--;
}
int main() {
	freopen("path.in","r",stdin);
	freopen("path.out","w",stdout);
	n=read(); for (int i=1;i<n;i++) {
		van f=read(),s=read();
		g[f].push_back(s);
	} for (int i=1;i<=n;i++) sort(g[i].begin(),g[i].end());
	DFS();
	return 0;
}

```

### T3 å€¾æ–œçš„çº¿

### é¢˜ç›®æè¿°

ç»™å®šä¸¤ä¸ªæ­£æ•´æ•° P å’Œ Qã€‚åœ¨äºŒç»´å¹³é¢ä¸Šæœ‰ n ä¸ªæ•´ç‚¹ã€‚ç°åœ¨è¯·ä½ æ‰¾åˆ°ä¸€å¯¹ç‚¹ä½¿å¾—ç»è¿‡å®ƒä»¬çš„ç›´çº¿çš„æ–œç‡åœ¨æ•°å€¼ä¸Šæœ€æ¥è¿‘ P/Qï¼ˆå³è¿™æ¡ç›´çº¿çš„æ–œç‡ä¸ P/Q çš„å·®æœ€å°ï¼‰ï¼Œè¯·è¾“å‡ºç»è¿‡å®ƒä»¬ç›´çº¿çš„æ–œç‡ p/qã€‚å¦‚æœæœ‰ä¸¤ç»„ç‚¹çš„æ–œç‡çš„æ¥è¿‘ç¨‹åº¦ç›¸åŒï¼Œè¯·è¾“å‡ºè¾ƒå°çš„æ–œç‡ã€‚

ä¿è¯ç­”æ¡ˆçš„ p/q > 0ï¼Œå³è¾“å‡ºçš„ p å’Œ q éƒ½æ˜¯æ­£æ•´æ•°ã€‚

### é¢˜ç›®åˆ†æ



### å‚è€ƒä»£ç 

```c++
#include<bits/stdc++.h>
#define read() FastRead(garbage)
using namespace std;
typedef __int128 van;
van garbage;
template<typename T> inline
T FastRead(T& x) {
	T f=1,b=0;char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b;return x;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0) {putchar('0');return;}
	van st[41]={0},k=0;
	while (x) st[++k]=x%10,x/=10;
	for (int i=k;i;i--) putchar('0'+st[i]);
}
template<typename T> inline
T abs(T x) {return x<0?-x:x;}
const van MaxN=2e5+10;
van n,P,Q,ansp=1,ansq=-1,id;
struct point {
	van x,y;
	point(){};
	point(van x,van y):x(x),y(y){};
	bool operator < (const point& a) const {
		if (x==a.x) return y<a.y;
		return x<a.x; 
	}
}p[MaxN];
struct point2 {
	van x,y,id;
	point2(){};
	point2(van x,van y,van id):x(x),y(y),id(id){};
	bool operator < (const point2& a) const {
		if (y==a.y) return x<a.x;
		return y<a.y; 
	}
}p2[MaxN];
bool judge2(van p1,van q1,van p2,van q2) {
	return p1*q2<p2*q1;
}
void SubTask2() {
	for (int i=1;i<=n;i++) p2[i]=point2(p[i].x,p[i].y*Q-p[i].x*P,i);
	sort(p2+1,p2+n+1); for (int i=1;i<=n-1;i++) {
		van a=i,b=i+1;
		van ansp1=abs(p2[a].y-p2[b].y),ansq1=abs(p2[a].x-p2[b].x);
		if (id==0) ansp=ansp1,ansq=ansq1,id=i;
		else if (judge2(ansp1,ansq1,ansp,ansq)) ansp=ansp1,ansq=ansq1,id=i;
	} van a=p2[id].id,b=p2[id+1].id;
	van resp=abs(p[a].y-p[b].y),resq=abs(p[a].x-p[b].x);
	van gcd=__gcd(resp,resq);resp/=gcd,resq/=gcd;
	print(resp),putchar('/'),print(resq);
}
int main() {
	freopen("slope.in","r",stdin);
	freopen("slope.out","w",stdout);
	n=read(),P=read(),Q=read(); 
	for (int i=1;i<=n;i++) {
		van x=read(),y=read();
		p[i]=point(x,y);
	}
	SubTask2();
	return 0;
}
```

### T4 ç¬¦æ–‡

### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º |s| çš„ç¬¦æ–‡ä¸² s å’Œä¸€ä¸ªé•¿åº¦ä¸º |p| çš„ç¬¦æ–‡ä¸² p ï¼Œå®šä¹‰ç¬¦æ–‡çš„ç­‰çº§r(s,p) è¡¨ç¤ºç¬¦æ–‡ä¸² s ä¸­æœ€å¤šæœ‰å¤šå°‘ä¸ªäº’ä¸é‡å çš„å­ä¸² p ã€‚

ç°åœ¨ä½ å¯ä»¥åœ¨ä»»æ„ä½ç½®åˆ é™¤ä»»æ„ä¸ªç¬¦æ–‡ã€‚

ä½ éœ€è¦ç®—å‡ºåœ¨åˆ é™¤ i (0â‰¤iâ‰¤|s|)ä¸ªç¬¦æ–‡åå¾—åˆ°çš„ç¬¦æ–‡ä¸²tiçš„r(ti,p)ã€‚

### é¢˜ç›®åˆ†æ



### å‚è€ƒä»£ç 

```c++
#include<bits/stdc++.h>
#define read() FastRead(garbage)
using namespace std;
typedef long long van;
van garbage;
template<typename T> inline
T FastRead(T& x) {
	T f=1,b=0;
	char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	}
	while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b;
	return x;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0) {
		putchar('0');
		return;
	}
	van st[41]= {0},k=0;
	while (x) st[++k]=x%10,x/=10;
	for (int i=k; i; i--) putchar('0'+st[i]);
}
const van MaxN=2e3+10;
const van MaxM=5e2+10;
string s,p;
van f[MaxN][MaxN];
van w[MaxN];
int main() {
	freopen("runes.in","r",stdin);
	freopen("runes.out","w",stdout);
	cin>>s>>p;
	van n=s.size(),m=p.size();
	memset(w,-1,sizeof w);
	for (int i=0; i<n; i++) {
		van k=0;
		for (int j=i; j<n; j++) {
			if (s[j]==p[k]) k++;
			if (k==p.size()) {
				w[i+1]=j-i+1;
				break;
			}
		}
	}
	memset(f,-1,sizeof f);
	f[0][0]=0;
	for (int i=1; i<=n; i++) {
		for (int j=0; j<=i; j++) {
			f[i][j]=max(f[i][j],f[i-1][j]);
			f[i][j+1]=max(f[i][j+1],f[i-1][j]);
			if (w[i]!=-1)
				f[i+w[i]-1][j+w[i]-m]=max(f[i+w[i]-1][j+w[i]-m],f[i-1][j]+1);
		}
	}
	for (int i=0; i<=n; i++) print(f[n][i]),putchar(' ');
	return 0;
}
```

### T5 è´­ç¥¨

### é¢˜ç›®æè¿°

æ—…è¡Œçš„è·¯çº¿ç”±ç¼–å·ä¸º 1â€¦Nï¼ˆ1â‰¤Nâ‰¤10^5ï¼‰çš„ N ä¸ªæ£€æŸ¥ç‚¹ç»„æˆã€‚æœ‰ Kï¼ˆ1â‰¤Kâ‰¤10^5ï¼‰å¼ ç¥¨å¯ä¾›è´­ä¹°ã€‚ç¬¬ i å¼ ç¥¨å¯ä»¥åœ¨æ£€æŸ¥ç«™ ciï¼ˆ1â‰¤ciâ‰¤Nï¼‰ä»¥ piï¼ˆ1â‰¤piâ‰¤10^9ï¼‰çš„ä»·æ ¼è´­å¾—ï¼Œå¹¶ä¸”å¯ä»¥ç”¨å…¶è¿›å…¥æ‰€æœ‰æ£€æŸ¥ç«™ [ai,bi]ï¼ˆ1â‰¤aiâ‰¤biâ‰¤Nï¼‰ã€‚åœ¨è¿›å…¥ä»»ä½•æ£€æŸ¥ç«™ä¹‹å‰ï¼Œå¿…é¡»å·²è´­ä¹°ä¸€å¼ å…è®¸å…¶è¿›å…¥è¯¥æ£€æŸ¥ç«™çš„ç¥¨ã€‚ä¸€æ—¦å¯ä»¥å‰å¾€æŸä¸€æ£€æŸ¥ç«™ï¼Œå°±å¯ä»¥åœ¨æœªæ¥çš„ä»»ä½•æ—¶å€™å›åˆ°è¯¥æ£€æŸ¥ç«™ã€‚å¯¹äºæ¯ä¸€ä¸ª iâˆˆ[1,N]ï¼Œå¦‚æœæœ€åˆåªèƒ½è¿›å…¥æ£€æŸ¥ç‚¹ iï¼Œè¾“å‡ºä½¿å¾—å¯ä»¥è¿›å…¥æ£€æŸ¥ç‚¹ 1 å’Œ N æ‰€éœ€çš„æœ€ä½æ€»ä»·ã€‚å¦‚æœæ— æ³•è¿™æ ·åšï¼Œè¾“å‡º âˆ’1

### é¢˜ç›®åˆ†æ



### å‚è€ƒä»£ç 

```c++
#include<bits/stdc++.h>
#define read() FastRead(garbage)
using namespace std;
typedef long long van;
van garbage;
template<typename T> inline
T FastRead(T& x) {
	T f=1,b=0;char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b;return x;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0) {putchar('0');return;}
	van st[41]={0},k=0;
	while (x) st[++k]=x%10,x/=10;
	for (int i=k;i;i--) putchar('0'+st[i]);
}
const van MaxN=1e5+10;
struct ticket{
	van p,c,a,b;
	ticket(){};
	ticket(van p,van c,van a,van b):p(p),c(c),a(a),b(b){};
}t[MaxN];
struct Edge {
	van u,v,w;
	Edge(van u,van v,van w):u(u),v(v),w(w){};
};
van n,k; van id[MaxN];
vector<Edge> g[MaxN*6];

void Connect(van from,van to,van w) {
	g[from].push_back(Edge(from,to,w));
}
void BuildTree(van p=1,van l=1,van r=n) {
	if (l==r) {id[l]=p;return;} van mid=(l+r)>>1;
	Connect(p*2,p,0); Connect(p*2+1,p,0);
	BuildTree(p*2,l,mid); BuildTree(p*2+1,mid+1,r);
} 
void Update(van L,van R,van from,van p=1,van l=1,van r=n) {
	if (L<=l&&r<=R) {
		Connect(p,from,0);
		return;
	} van mid=(l+r)>>1;
	if (L<=mid) Update(L,R,from,p*2,l,mid);
	if (R>mid) Update(L,R,from,p*2+1,mid+1,r);
}
struct state {
	van dis,id;
	state(van dis,van id):dis(dis),id(id){};
	bool operator < (const state& a) const {
		return dis>a.dis;
	}
}; priority_queue<state> q;
van dis[MaxN*6]; bool used[MaxN*6];
van dis1[MaxN*6],dis2[MaxN*6];
void Dijkstra(van st,bool ahhh=true) {
	memset(used,0,sizeof used);
	for (int i=1;i<=5*n+k;i++) dis[i]=1e18;
	if (ahhh) dis[st]=0,q.push(state(dis[st],st));
	else {
		memcpy(dis,dis1,sizeof dis);
		for (int i=1;i<=5*n+k;i++) q.push(state(dis[i],i));
	}
	while (!q.empty()) {
		van now=q.top().id; q.pop();
		if (used[now]) continue; used[now]=1;
		for (int i=0;i<g[now].size();i++) {
			Edge e=g[now][i];
			if (dis[e.v]>dis[now]+e.w) {
				dis[e.v]=dis[now]+e.w;
				q.push(state(dis[e.v],e.v));
			}
		}
	}
}
int main() {
	n=read(),k=read(); BuildTree();
	for (int i=1;i<=k;i++) {
		van p=read(),c=read(),a=read(),b=read();
		t[i]=ticket(p,c,a,b);
		Update(a,b,4*n+i);
		Connect(4*n+i,id[p],c);
	} Dijkstra(id[1]); memcpy(dis1,dis,sizeof dis1);
	Dijkstra(id[n]); for (int i=1;i<=n*5+k;i++) dis1[i]+=dis[i];
	Dijkstra(0,false); for (int i=1;i<=n;i++)
		print(dis[id[i]]>=1e18?-1:dis[id[i]]),putchar('\n');
	return 0;
}
```

## 20220210

### T1 å•†è´¸

### é¢˜ç›®æè¿°

å‹‡è€…å°ğ´é€šè¿‡å¯»å®æå‡è‡ªå·±çš„å®åŠ›ä¹‹åä»ç„¶æ— æ³•æˆ˜èƒœè™«ç¾¤ï¼Œä»–ç»ˆäºæ„è¯†åˆ°äº†ä¸€ä¸ªäººçš„åŠ›é‡ç»ˆç©¶æ—¶æœ‰æé™çš„ï¼Œå› æ­¤ï¼Œä»–å†³å®šå¼€å§‹æ‹›å…µä¹°é©¬ï¼Œç„¶è€Œï¼Œä¸€ä¸ªå¾ˆç°å®çš„é—®é¢˜æ‘†åœ¨ä»–çš„é¢å‰â€”â€”ä»–æ²¡æœ‰é’±ã€‚æ‰€å¹¸ä»–ç°åœ¨æ‰€åœ¨çš„å›½å®¶æ˜¯ä¸€ä¸ªå•†è´¸éå¸¸å‘è¾¾çš„å•†ä¸šå…±å’Œå›½ï¼Œä»–å¯ä»¥ä»ä¸­è·‘å•†èµšé’±ã€‚å…±å’Œå›½å†…æœ‰ğ‘åº§åŸå¸‚ï¼Œç¼–å·ä¸º1,2,3 â€¦ ğ‘ã€‚ç”±ğ‘€æ¡å•å‘çš„é“è·¯è¿æ¥ã€‚å°ğ´æ¯ä¸€æ¬¡åˆ°è¾¾åŸå¸‚ğ‘–éƒ½å¯ä»¥è·å¾—ğ‘šğ‘–çš„æ”¶ç›Šã€‚å°ğ´æœ€å¼€å§‹ä½äºåŸå¸‚1ï¼Œæœ€åä¹Ÿå¿…é¡»å›åˆ°ç¼–å·ä¸º1çš„åŸå¸‚ã€‚ä¸è¿‡èº«ä¸ºå‹‡è€…çš„å°ğ´çš„æ—¶é—´æ˜¯éå¸¸å®è´µçš„ï¼Œæ²¿ç€ä¸€æ¡é“è·¯ä»ä¸€åº§åŸå¸‚åˆ°è¾¾å¦ä¸€åº§åŸå¸‚éœ€è¦èŠ±è´¹ä¸€å¤©çš„æ—¶é—´ã€‚ä¸ºäº†é‡åŒ–å°ğ´èŠ±è´¹æ—¶é—´è´¸æ˜“çš„ä»£ä»·ï¼Œæˆ‘ä»¬è®¤ä¸ºå°ğ´èŠ±è´¹ğ‘‡æ—¶é—´è´¸æ˜“çš„æˆæœ¬ä¸ºğ¶ Ã— ğ‘‡^2ã€‚

ä½ éœ€è¦è®¡ç®—å‡ºå°ğ´å¯èƒ½å¾—åˆ°çš„æœ€é«˜æ”¶ç›Šã€‚

### é¢˜ç›®åˆ†æ



### å‚è€ƒä»£ç 

```c++
#include<bits/stdc++.h>
using namespace std;
typedef long long van;
template<typename T> inline
void read(T& x) {
	T f=1,b=0;char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b; return;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0) {putchar('0');return;}
	van st[42]={0},k=0;
	while (x) st[++k]=x%10,x/=10;
	for (int i=k;i;i--) putchar(st[i]+'0');
}
van n,k;
const van MaxN=1e3+10;
vector<van> g[MaxN];
bool used[MaxN];
van f[MaxN][MaxN],c,w[MaxN];
int main() {
	freopen("trade.in","r",stdin);
	freopen("trade.out","w",stdout);
	read(n),read(k),read(c);
	for (int i=1;i<=n;i++) read(w[i]);
	for (int i=1;i<=k;i++) {
		van f,s; read(f),read(s);
		g[f].push_back(s);
	} for (int i=1;i<=n;i++) {
		for (int j=0;j<=1000;j++) {
			f[i][j]=-1e18;
		}
	} f[1][0]=0;
	for (int i=1;i<=1000;i++) {
		for (int j=1;j<=n;j++) {
			for (int k=0;k<g[j].size();k++) {
				van e=g[j][k];
				f[e][i]=max(f[e][i],f[j][i-1]+w[e]);
			}
		}
	} van ans=0;
	for (int i=0;i<=1000;i++)
		ans=max(f[1][i]-c*i*i,ans);
	print(ans);
	return 0;
}
```

### T2 éƒ¨é˜Ÿé›†ç»“

### é¢˜ç›®æè¿°

å°ğ´éœ€è¦é›†ç»“ä»–çš„éƒ¨é˜Ÿã€‚é€šè¿‡ä½¿ç”¨é’èƒ½åŠ›ï¼Œå°ğ´å·²ç»æ‹›å‹Ÿåˆ°äº†ğ‘åå¸¸å¹´æ¸¸èµ°äºåˆ€å‰‘ä¹‹ä¸Šçš„è€ç»ƒé›‡ä½£å…µï¼Œç°åœ¨ï¼Œä»–ä»¬æ‹æˆä¸€åˆ—ï¼Œç¼–å·ä»1åˆ°ğ‘ï¼Œæ­£åœ¨æ¥å—å°ğ´çš„æ£€é˜…ã€‚

å°ğ´ä¹Ÿéœ€è¦å°†è¿™ğ‘åé›‡ä½£å…µåˆ†æˆå°é˜Ÿè¡ŒåŠ¨ï¼Œä½†æ˜¯ï¼Œé¢†é˜Ÿçš„é€‰æ‹©æˆä¸ºäº†æ‰“é—®é¢˜ã€‚å…·ä½“æ¥è¯´ï¼Œå°ğ´åªèƒ½å¤Ÿé€‰æ‹©ä¸€ä¸ªè¿ç»­çš„ç¼–å·åŒºé—´[ğ‘™, ğ‘Ÿ]ä½œä¸ºå°é˜Ÿè¡ŒåŠ¨ï¼Œæ‰€æœ‰ç¼–å·ğ‘™ â‰¤ ğ‘– â‰¤ ğ‘Ÿçš„é›‡ä½£å…µğ‘–ä¼šåŠ å…¥å°é˜Ÿï¼Œé›‡ä½£å…µğ‘™, ğ‘Ÿä¼šä½œä¸ºé¢†é˜Ÿã€‚ç„¶è€Œï¼Œä¸åŒçš„é›‡ä½£å…µæœ‰è‡ªå·±çš„æŠ€æœ¯å€¾å‘ï¼Œå…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ•°å­—ğ‘ğ‘–æ¥æè¿°ç¼–å·ä¸ºğ‘–çš„é›‡ä½£å…µçš„æŠ€æœ¯å€¾å‘ï¼Œå¦‚æœé˜Ÿé•¿çš„æŠ€æœ¯å€¾å‘ä¸é˜Ÿå†…çš„å…¶ä»–æˆå‘˜(åŒ…æ‹¬å¦ä¸€ä½é˜Ÿé•¿)ç›¸åŒï¼Œé‚£ä¹ˆè¿™ä¸ªé˜Ÿä¼å°±æ— æ³•å’Œç¦ç›¸å¤„ã€‚

ä½ çš„ä»»åŠ¡æ˜¯å¸®åŠ©å°ğ´è®¡ç®—å‡ºæœ‰å¤šå°‘ä¸ªåŒºé—´å¯ä»¥åˆ’åˆ†å‡ºä¸€ä¸ªå’Œç¦ç›¸å¤„çš„å°é˜Ÿã€‚

### é¢˜ç›®åˆ†æ



### å‚è€ƒä»£ç 

```c++
#include<bits/stdc++.h>
using namespace std;
typedef long long van;
template<typename T> inline
void read(T& x) {
	T f=1,b=0;char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b; return;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0) {putchar('0');return;}
	van st[42]={0},k=0;
	while (x) st[++k]=x%10,x/=10;
	for (int i=k;i;i--) putchar(st[i]+'0');
}
const van MaxN=2e5+10;
van n,a[MaxN]; vector<van> waited_delete[MaxN];
van nxt[MaxN],pre[MaxN],now[MaxN],ans=0;
struct SegmentTree {
	van dat[MaxN<<2];
	void UpdateTree(van wh,van num,van p=1,van l=1,van r=n) {
		if (l==r) {dat[p]+=num;return;}
		van mid=(l+r)>>1;
		if (wh<=mid) UpdateTree(wh,num,p*2,l,mid);
		else UpdateTree(wh,num,p*2+1,mid+1,r);
		dat[p]=dat[p*2]+dat[p*2+1];
	}
	van QueryTree(van L,van R,van p=1,van l=1,van r=n) {
		if (L<=l&&r<=R) return dat[p];
		van sum=0,mid=(l+r)>>1;
		if (L<=mid) sum+=QueryTree(L,R,p*2,l,mid);
		if (R>mid) sum+=QueryTree(L,R,p*2+1,mid+1,r);
		return sum;
	}
}T;
int main() {
	freopen("gather.in","r",stdin);
	freopen("gather.out","w",stdout);
	read(n); for (int i=1;i<=n;i++) read(a[i]);
	for (int i=1;i<=n;i++) 
		pre[i]=now[a[i]],nxt[now[a[i]]]=i,now[a[i]]=i;
	for (int i=1;i<=n;i++) if (nxt[i]==0) nxt[i]=n+1;
	for (int i=n;i;i--) {
		for (int j=0;j<waited_delete[i].size();j++) {
			van id=waited_delete[i][j];
			T.UpdateTree(id,-1);
		} ans+=T.QueryTree(i+1,nxt[i]-1); // cout<<i<<" "<<T.QueryTree(i+1,nxt[i]-1)<<endl;
		T.UpdateTree(i,1); waited_delete[pre[i]].push_back(i);
	} print(ans);
	return 0;
}
```

### T3 è™«ç¾¤æ‰©å¼ 

### é¢˜ç›®æè¿°

ç»è¿‡ä¸€ç•ªæˆ˜æ–—ä¹‹åï¼Œè™«ç¾¤ç»ˆäºè¢«å°ğ´å‡»æºƒï¼Œè™«ç¾¤å¥³ç‹ä¹Ÿè½å…¥åˆ°äº†å°ğ´è®¾è®¡çš„é™·é˜±ä¹‹ä¸­ã€‚

å°ğ´è®¾è®¡çš„é™·é˜±å¯ä»¥ç”¨ä¸€ä¸ªğ‘ Ã— ğ‘çš„æ–¹é˜µè¡¨ç¤ºï¼Œå…¶ä¸­ï¼Œæ¯ä¸€ä¸ªæ–¹æ ¼å¯èƒ½æ˜¯ç©ºæ ¼æˆ–è€…ç‚¸å¼¹ï¼Œå¹¶ä¸”æ‰€æœ‰è¾¹ç•Œä¸Šçš„æ–¹æ ¼éƒ½è¢«å°ğ´å¸ƒç½®äº†ç‚¸å¼¹ã€‚æŸä¸€äº›æ²¡æœ‰è¢«å¸ƒç½®ç‚¸å¼¹çš„æ–¹æ ¼å¯èƒ½å›ä½¿è™«ç¾¤å¥³ç‹å‡ºç°çš„èµ·å§‹ä½ç½®ã€‚

æœ€å¼€å§‹ï¼Œè™«ç¾¤å¥³ç‹ä½äºæŸä¸€ä¸ªå¯èƒ½çš„èµ·å§‹ä½ç½®ä¸Šï¼Œåœ¨è¿™ä¹‹åçš„æ¯ä¸€ä¸ªå•ä½æ—¶é—´å†…ï¼Œå¥³ç‹å’Œå¥¹çš„è™«ç¾¤ä¼šå‘ç€ç›¸åŒçš„æ–¹å‘ç§»åŠ¨ä¸€æ ¼æˆ–åœç•™åœ¨åŸåœ°ï¼ˆç§»åŠ¨æ–¹å‘ä¸ºç½‘æ ¼å†…çš„ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘ä¸­çš„ä¸€ä¸ªï¼‰ã€‚æ¯ç»è¿‡ğ·ä¸ªå•ä½æ—¶é—´ï¼Œè™«ç¾¤ä¼šè¿›è¡Œä¸€ä¸ªå¢æ®–ï¼Œä½äº(ğ’™, ğ’š)çš„è™«å­ä¼šåœ¨æ–¹æ ¼(ğ’™ + ğŸ, ğ’š), (ğ’™ âˆ’ ğŸ, ğ’š), (ğ’™, ğ’š âˆ’ ğŸ), (ğ’™, ğ’š + ğŸ)å„äº§ç”Ÿä¸€åªæ–°çš„è™«å­ã€‚æ¯ä¸€ä¸ªæ ¼å­å†…å¯èƒ½å‡ºç°å¤šåªè™«å­ã€‚

å¦‚æœç§»åŠ¨æˆ–è€…å¢æ®–ä½¿å¾—ä»»ä½•ä¸€åªè™«å­è§¦ç¢°åˆ°äº†ç‚¸å¼¹ï¼Œé‚£ä¹ˆç‚¸å¼¹å°±ä¼šè¢«å¼•çˆ†ï¼Œç”±äºè¿é”çˆ†ç‚¸ï¼Œæ•´ä¸ªç½‘æ ¼å›¾éƒ½ä¼šè¢«ç‚¸æ¯ã€‚èº«ä¸ºæ…é‡å‹‡è€…çš„å°ğ´å…·æœ‰çŸ­è·ç¦»ä¼ é€çš„èƒ½åŠ›ï¼Œå› æ­¤ä»–å†³å®šåœ¨ç‚¸å¼¹æ¿€å‘ä¹‹å‰å‰å¾€é™·é˜±å†…ä»¥é˜²æ­¢ä¸€äº›æ„å¤–æƒ…å†µåœ°å‘ç”Ÿã€‚ä¸ºäº†è®©å°ğ´åœ°è¡ŒåŠ¨æ›´åŠ æœ‰æ•ˆç‡ï¼Œä½ éœ€è¦å¸®åŠ©å°ğ´æ±‚å‡ºæœ‰å¤šå°‘ä¸ªæ ¼å­å†…å¯èƒ½å‡ºç°è™«ç¾¤ã€‚

### é¢˜ç›®åˆ†æ



### å‚è€ƒä»£ç 

```c++
#include<bits/stdc++.h>
using namespace std;
typedef long long van;
template<typename T> inline
void read(T& x) {
	T f=1,b=0;char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b; return;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0) {putchar('0');return;}
	van st[42]={0},k=0;
	while (x) st[++k]=x%10,x/=10;
	for (int i=k;i;i--) putchar(st[i]+'0');
}
const van MaxN=1e3+10;
van n,d;char m[MaxN][MaxN];
van dis[MaxN][MaxN]; bool used[MaxN][MaxN];
van dis2[MaxN][MaxN];
van VanGo[4][2]={{0,1},{1,0},{0,-1},{-1,0}};
bool in(van x,van y) {return x>0&&y>0&&x<=n&&y<=n;}
void Dijkstra() {
	memset(dis,(1<<6)-1,sizeof dis);
	priority_queue<pair<van,pair<van,van> > > q;
	for (int i=1;i<=n;i++) for (int j=1;j<=n;j++) 
		if (m[i][j]=='#') q.push(make_pair(0,make_pair(i,j))),dis[i][j]=0;
	while (!q.empty()) {
		van x=q.top().second.first,y=q.top().second.second;q.pop();
		if (used[x][y]) continue; used[x][y]=1;
		for (int i=0;i<4;i++) {
			van xx=x+VanGo[i][0],yy=y+VanGo[i][1];
			if (m[xx][yy]=='#') continue;
			if (!in(xx,yy)) continue;
			if (dis[xx][yy]>dis[x][y]+1) {
				dis[xx][yy]=dis[x][y]+1;
				q.push(make_pair(-dis[xx][yy],make_pair(xx,yy)));
			}
		}
	}
}
void BFS() {
	queue<pair<pair<van,van>,pair<van,van> > > q;
	for (int i=1;i<=n;i++) for (int j=1;j<=n;j++)
		if (m[i][j]=='S') q.push(make_pair(make_pair(i,j),make_pair(0,1)));
	while (!q.empty()) {
		van x=q.front().first.first,y=q.front().first.second;
		van dnow=q.front().second.first,l=q.front().second.second; q.pop();
		if (used[x][y]) continue;
		used[x][y]=1; if (dnow>=d) dnow-=d,l++;
		if (l>dis[x][y]) continue;
		for (int i=0;i<4;i++) {
			van xx=x+VanGo[i][0],yy=y+VanGo[i][1];
			if (m[xx][yy]=='#') continue;
			if (!used[xx][yy]) if (dis[xx][yy]>=l) 
				q.push(make_pair(make_pair(xx,yy),make_pair(dnow+1,l)));
		}
	}
}
void dijkstra() {
	priority_queue<pair<van,pair<van,van> > > q;
	for (int i=1;i<=n;i++) for (int j=1;j<=n;j++) 
		if (used[i][j]) q.push(make_pair(dis[i][j],make_pair(i,j))),dis2[i][j]=dis[i][j];
	memset(used,0,sizeof used);
	while (!q.empty()) {
		van x=q.top().second.first,y=q.top().second.second;q.pop();
		if (used[x][y]) continue; used[x][y]=1;
		if (dis2[x][y]==1) continue;
		for (int i=0;i<4;i++) {
			van xx=x+VanGo[i][0],yy=y+VanGo[i][1];
			if (m[xx][yy]=='#') continue;
			if (dis2[xx][yy]<dis2[x][y]-1) {
				dis2[xx][yy]=dis2[x][y]-1;
				q.push(make_pair(dis2[xx][yy],make_pair(xx,yy)));
			}
		}
	}
}
van ans=0;
void Solve() {
	memset(used,0,sizeof used);
	BFS(); for (int i=1;i<=n;i++) {
		for (int j=1;j<=n;j++) cout<<used[i][j];
		cout<<endl;
	} dijkstra(); 
	for (int i=1;i<=n;i++) for (int j=1;j<=n;j++)
		if (used[i][j]) ans++;
}
int main() {
//	freopen("proliferate.in","r",stdin);
//	freopen("proliferate.ans","w",stdout);
	read(n),read(d); for (int i=1;i<=n;i++)
		for (int j=1;j<=n;j++) cin>>m[i][j];
	Dijkstra(); Solve(); print(ans);
	return 0;
}
```

### T4 æ¨æ¼”

### é¢˜ç›®æè¿°

å°½ç®¡è™«ç¾¤å·²ç»è¢«å°ğ´å½»åº•æ¯ç­äº†ï¼Œå¥³ç‹æ‰‹ä¸­è¿›å…¥é­”ç‹åŸçš„å››ä¸ªé’¥åŒ™ç¢ç‰‡ä¹‹ä¸€ä»ç„¶æ²¡æœ‰è¢«å°ğ´è·å¾—ï¼Œè¿™ä¸ªé’¥åŒ™ç¢ç‰‡è¢«è—åœ¨äº†è™«å·¢å†…éƒ¨ä¸€ä¸ªéšè”½çš„ä¼ é€é—¨å†…çš„ç©ºé—´é‡Œã€‚

è¿™ç¯‡ç¥å¥‡çš„ç©ºé—´å¹¶ä¸æ˜¯ä¸€ç¯‡å¹³å¦çš„ç©ºé—´ï¼Œè¿™ç¯‡ç©ºé—´å¯ä»¥è¢«çœ‹æˆæ˜¯ä¸€ä¸ªå·¨å¤§çš„äºŒç»´ç½‘æ ¼ã€‚å¯¹äºå…¶ä¸­çš„ä¸€ä¸ªåæ ‡(ğ‘¥, ğ‘¦)ï¼Œåªæœ‰åœ¨æ»¡è¶³å¦‚ä¸‹æ¡ä»¶æ—¶æ‰æ˜¯ä¸€å—å¯ä»¥åˆ°è¾¾çš„æ‚¬æµ®çŸ³å—ï¼š

å¯¹äºæ‰€æœ‰çš„æ•´æ•°ğ‘˜ â‰¥ 0,âŒŠ$\frac{x}{3^k}$âŒ‹å’ŒâŒŠ$\frac{y}{3^k}$âŒ‹å¯¹3å–æ¨¡å¾—åˆ°çš„æ•°å­—å¥‡å¶æ€§ç›¸åŒã€‚ä¾‹å¦‚:(1,7)å°±æ˜¯ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„åæ ‡ï¼Œå› ä¸ºå½“ğ‘˜ = 0æ—¶ä¸¤ä¸ªæ•°å­—å¯¹3å»æ¨¡å¾—åˆ°çš„ç»“æœéƒ½æ˜¯1ï¼Œğ‘˜ = 1æ—¶ä¸¤ä¸ªæ•°å­—å¯¹3å–æ¨¡å¾—åˆ°çš„ç»“æœä¸º0å’Œ2ã€‚å¥‡å¶æ€§ç›¸åŒã€‚è€Œğ‘˜ â‰¥ 2æ—¶ï¼Œå¾—åˆ°çš„æ•°éƒ½æ˜¯0ã€‚

ç”±äºè‡ªèº«æŠ€èƒ½ç‰¹æ€§çš„åŸå› ï¼Œå°ğ´éœ€è¦ä½ è®¡ç®—å‡ºæŸä¸€ä¸ªç‰¹å®šåŒºåŸŸå†…æœ‰å¤šå°‘ä¸ªæ ¼å­ä¸Šæ˜¯æœ‰æ‚¬æµ®çŸ³å—çš„ã€‚å…·ä½“æ¥è¯´ï¼Œä»–ä¼šç»™å‡ºğ‘„ä¸ªè¯¢é—®ï¼Œæ¯ä¸€ä¸ªè¯¢é—®åŒ…æ‹¬ä¸‰ä¸ªæ•´æ•°ğ‘¥ğ‘–, ğ‘¦ğ‘–, ğ‘‘ğ‘–ã€‚å¯¹äºæ¯ä¸€ä¸ªè¯¢é—®ï¼Œå°ğ´æƒ³çŸ¥é“æœ‰å¤šå°‘æ‚¬æµ®çŸ³å—ä½äº(ğ‘¥ğ‘–, ğ‘¦ğ‘–)åˆ°(ğ‘¥ğ‘– + ğ‘‘, ğ‘¦ğ‘– + ğ‘‘)çš„å¯¹è§’çº¿æ–¹æ ¼ä¸Š(åŒ…æ‹¬ä¸¤ä¸ªç«¯ç‚¹)ã€‚

### é¢˜ç›®åˆ†æ



### å‚è€ƒä»£ç 

```c++
#include<bits/stdc++.h>
using namespace std;
typedef long long van;
template<typename T> inline
void read(T& x) {
	T f=1,b=0;char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b; return;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0) {putchar('0');return;}
	van st[42]={0},k=0;
	while (x) st[++k]=x%10,x/=10;
	for (int i=k;i;i--) putchar(st[i]+'0');
}
van Q; double pai=acos(-1);
van siz[61],sizy[61];
van GetSiz(van f,van line) { // å½“å‰ç­‰çº§çš„ f
	if (f<0) return 0;
	if (f==0) return 1;
	line--; van id=line/siz[f-1]; assert(id<3);
	if (id==2||id==0) return GetSiz(f-1,line%siz[f-1]+1);
	if (id==1) return 3*GetSiz(f-1,line%siz[f-1]+1);
}
van GetNum(van x,van y,van f) { // æ›´å°ä¸€çº§çš„ f
	if (x==0) return 0;
	if (f==-1) return 1;
	if (x>siz[f+1]) {
		van res=(x-1)/siz[f+1]*GetSiz(f+1,y);
		x=(x-1)%siz[f+1]+1;
		return res+GetNum(x,y,f);
	} van yid=(y-1)/siz[f],xid=(x-1)/siz[f]; 
	assert(yid<3),assert(xid<3);
	van xx=(x-1)%siz[f]+1,yy=(y-1)%siz[f]+1;
	if (yid==0||yid==2) {
		if (xid==0) return 0;
		if (xid==1) return GetNum(xx,yy,f-1);
		if (xid==2) return GetSiz(f,yy);
	} if (yid==1) {
		return xid*GetSiz(f,yy)+GetNum(xx,yy,f-1);
	} return 0;
}
int main() {
	siz[0]=1; for (int i=1;i<=60;i++) siz[i]=siz[i-1]*3;
	sizy[0]=0; for (int i=1;i<=60;i++) sizy[i]=sizy[i-1]+siz[i-1];
	read(Q); for (int qq=1;qq<=Q;qq++) {
		van d,x,y; read(d),read(x),read(y);
		
		if ((x+y)%2==1){print(0),putchar('\n');
		continue;}
		x++,y++; van xx=x,yy=y;
		y=abs(y-x)/2,x+=y*(yy>x?1:-1); van endx=x+d,f;
		if (y==0){print(endx-x+1),putchar('\n');
		continue;}
		
		for (int j=0;j<=60;j++) 
			if (sizy[j]>=y){f=j;break;}
		y+=sizy[f]+1;
		print(GetNum(endx,y,f-1)-GetNum(x-1,y,f-1)),putchar('\n');
	}
	return 0;
}
```

## 20220212

### T1 é­”æ³•é˜µ

### é¢˜ç›®æè¿°

å‡»è´¥è™«ç¾¤å¥³ç‹ä¹‹åï¼Œå°ğ´çš„ç›®æ ‡å®šåœ¨äº†é­”ç‹å†›ç¬¬äºŒå¤©ç‹ã€‚ç¬¬äºŒå¤©ç‹ç»Ÿå¾¡é­”ç‹å†›çš„æš—éƒ¨ï¼Œæ“…é•¿åˆºæ€ï¼Œæ­£é¢å¯¹æ•Œèƒ½åŠ›åå¼±ï¼Œä¸ä»–çš„å°é˜Ÿä¸€èµ·è¡ŒåŠ¨ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œğ¶ğ‘ğ‘ ğ‘¡ğ‘’ğ‘Ÿæ‰èƒ½å¤Ÿå…‹åˆ¶ğ´ğ‘ ğ‘ ğ‘ğ‘ ğ‘ ğ‘–ğ‘›ã€‚å› æ­¤ï¼Œå°ğ´å†³å®šå¸ƒä¸‹å¯ä»¥åˆ†å‰²æˆ˜åœºçš„æ³•é˜µï¼Œéšååˆºæ€ç¬¬äºŒå¤©ç‹ã€‚åœ¨ä¸€ä¸ªå³¡è°·å†…ï¼Œå°ğ´æ‰¾åˆ°äº†ä¸€ä¸ªæ®‹ç ´çš„æ³•é˜µã€‚

è¿™ä¸ªæ®‹ç ´çš„é­”æ³•é˜µç”±ğ‘ä¸ªèŠ‚ç‚¹ä»¥åŠå…¶å†…éƒ¨çš„å›è·¯ç»„æˆã€‚**æ¯ä¸€ä¸ªèŠ‚ç‚¹å†…éƒ¨æœ‰å››ä¸ªå›è·¯èŠ‚ç‚¹ï¼Œæ¯ä¸€ä¸ªå›è·¯èŠ‚ç‚¹ä¼šä¸å¦ä¸€ä¸ªå›è·¯èŠ‚ç‚¹ç›´æ¥è¿æ¥ï¼Œåœ¨è¾“å…¥æ•°æ®ä¸­ï¼Œç›¸åŒç¼–å·çš„å›è·¯èŠ‚ç‚¹å³è¡¨ç¤ºç›´æ¥è¿æ¥çš„å›è·¯èŠ‚ç‚¹ã€‚**åŒæ—¶ï¼Œ**åœ¨æ¯ä¸€ä¸ªé­”æ³•é˜µå†…çš„èŠ‚ç‚¹ä¸­ï¼Œç¬¬ä¸€ä¸ªå›è·¯èŠ‚ç‚¹å’Œç¬¬äºŒä¸ªå›è·¯èŠ‚ç‚¹ä¼šè¢«è¿æ¥ï¼Œç¬¬ä¸‰ä¸ªå›è·¯èŠ‚ç‚¹å’Œç¬¬å››ä¸ªå›è·¯èŠ‚ç‚¹ä¼šè¢«è¿æ¥ã€‚**

ä¸ºäº†ä½¿å¾—è¿™ä¸ªé­”æ³•é˜µé‡æ–°æ­£å¸¸å·¥ä½œï¼Œå°ğ´å¯ä»¥é‡æ–°æ’åˆ—æŸä¸€ä¸ªé­”æ³•é˜µèŠ‚ç‚¹å†…çš„å›è·¯èŠ‚ç‚¹ï¼Œæ”¹å˜å›è·¯èŠ‚ç‚¹çš„è¿æ¥æƒ…å†µï¼Œä½¿å¾—**ä»»æ„ä¸¤ä¸ªå›è·¯èŠ‚ç‚¹å‡ä½äºä¸€ä¸ªè”é€šå—å†…**ã€‚æ”¹å˜é­”æ³•é˜µèŠ‚ç‚¹ğ‘–çš„ä»£ä»·ä¸ºğ‘ğ‘–ã€‚ä½ éœ€è¦è®¡ç®—æœ€å°‘éœ€è¦èŠ±è´¹å¤šå°‘ä»£ä»·å¯ä»¥ä½¿å¾—è¿™ä¸ªé­”æ³•é˜µé‡æ–°æ­£å¸¸å·¥ä½œã€‚è¾“å…¥ä¿è¯å­˜åœ¨åˆæ³•è§£ã€‚

### é¢˜ç›®åˆ†æ



### å‚è€ƒä»£ç 

```c++
#include<bits/stdc++.h>
using namespace std;
typedef long long van;
template<typename T> inline
void read(T& x) {
	van f=1,b=0;char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b; return;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0) {putchar('0');return;}
	van st[41]={0},k=0;
	while (x) st[++k]=x%10,x/=10;
	for (int i=k;i;i--) putchar(st[i]+'0');
}
const van MaxN=5e5+10;
struct l {
	van c,p1,p2,p3,p4;
	l(){};
	l(van c,van p1,van p2,van p3,van p4):c(c),p1(p1),p2(p2),p3(p3),p4(p4){};
	bool operator < (const l& a) const {
		return c<a.c;
	}
}m[MaxN]; van fa[MaxN],ans=0;
van n; vector<van> g[MaxN];
void DFS(van now,van id) {
	fa[now]=id; for (int i=0;i<g[now].size();i++)
		if (!fa[g[now][i]]) DFS(g[now][i],id);
}
van GetFa(van x) {return fa[x]==x?x:fa[x]=GetFa(fa[x]);}
void Merge(van a,van b) {fa[GetFa(a)]=GetFa(b);}
int main() {
//	freopen("magic.in","r",stdin);
//	freopen("magic.out","w",stdout);
	read(n); for (int i=1;i<=n;i++) {
		van c,p1,p2,p3,p4; read(c),read(p1),read(p2),read(p3),read(p4);
		m[i]=l(c,p1,p2,p3,p4); 
		g[p1].push_back(p2);
		g[p2].push_back(p1);
		g[p3].push_back(p4);
		g[p4].push_back(p3);
	} sort(m+1,m+n+1);
	for (int i=1;i<=n*2;i++) if (!fa[i]) DFS(i,i);
	for (int i=1;i<=n;i++) {
		if (GetFa(m[i].p1)!=GetFa(m[i].p3)) ans+=m[i].c,Merge(m[i].p1,m[i].p3);
	} print(ans);
}
```

### T2 åŒºåŸŸä¾¦æµ‹

### é¢˜ç›®æè¿°

å°ğ´ç»ˆäºå‘ç°äº†ç¬¬äºŒå¤©ç‹ä»¥åŠä»–çš„æ‰‹ä¸‹å¹¶æŠŠä»–ä»¬å¼•å…¥äº†é­”æ³•é˜µä¸­ï¼Œä»–ä»¬åœ¨é­”æ³•é˜µä¸­çš„ä½ç½®å¯ä»¥ç”¨ä¸€ä¸ªç½‘æ ¼å›¾ä¸­çš„åæ ‡è¡¨ç¤ºã€‚ç°åœ¨ï¼Œç¬¬äºŒå¤©ç‹å’Œä»–çš„æ‰‹ä¸‹ä¸€å…±ğ‘ä¸ªäººæ­£å æ®è¿™è¿™ä¸ªç½‘æ ¼å›¾ä¸­çš„æŸäº›ä½ç½®ã€‚

å‚¬åŠ¨é­”æ³•é˜µä¼šå°†è¿™ä¸ªç½‘æ ¼å›¾ä¸­çš„æŸä¸€ä¸ªæ­£æ–¹å½¢åŒºåŸŸä¸å…¶ä»–åŒºåŸŸåˆ†å‰²å¼€æ¥ï¼Œè¿™ä¸ªæ­£æ–¹å½¢çš„å››æ¡è¾¹å¿…é¡»ä¸ç½‘æ ¼å›¾çš„ğ‘¥è½´å’Œğ‘¦è½´å¹³è¡Œä¸”è‡³å°‘åŒ…å«ä¸€ä¸ªæ–¹æ ¼ã€‚ç°åœ¨ï¼ŒåŸºäºå„ç§è€ƒé‡ï¼Œå°ğ´å¸Œæœ›ä½ å¸®ä»–æ±‚å‡ºè¿™ğ‘ä¸ªäººæœ‰å¤šå°‘ä¸ªå­é›†å¯ä»¥è¢«è¿™æ ·ä¸€ä¸ªæ­£æ–¹å½¢åŒºåŸŸåˆ†å‰²å‡ºæ¥ã€‚

### é¢˜ç›®åˆ†æ



### å‚è€ƒä»£ç 

```c++
#include<bits/stdc++.h>
using namespace std;
typedef long long van;
template<typename T> inline
void read(T& x) {
	van f=1,b=0;char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b; return;
}
template<typename T> inline
void print(T x,van jz=10) {
	if (x<0) putchar('-'),x=-x;
	if (x==0) {putchar('0');return;}
	van st[210]={0},k=0;
	while (x) st[++k]=x%jz,x/=jz;
	for (int i=k;i;i--) putchar(st[i]+'0');
}
const van MaxN=200+10;
struct pos {
	van x,y;
	bool operator < (const pos& a) const {
		if (x==a.x) return y<a.y;
		return x<a.x;
	}
}p[MaxN];
set<van> s;
van n,ans=0,res=0;
void run() {
	sort(p+1,p+n+1);
	for (int i=1;i<=n;i++) {
		while (!s.empty()) s.erase(s.begin());
		s.insert(p[i].y); for (int j=i+1;j<=n;j++) {
			s.insert(p[j].y);
			vector<van> v(s.begin(),s.end());
			van len=p[j].x-p[i].x;
			van ly=max(p[i].y,p[j].y)-len,ry=min(p[i].y,p[j].y);
			if (ly>ry) continue;
			van siz=v.size(),l=0,r=-1;
			while (r+1<siz&&v[r+1]<ly+len) r++;
			while (r<siz&&(r<0||v[r]<=ry+len)) {
				if (r<0) {r++; continue;}
				van L=max(v[r]-len,ly),R=min((r+1<siz?v[r+1]-len:ry+1),ry+1)-1;
				while (l<siz&&v[l]<L) l++;
				if ((v[r]<ly+len&&v[r+1]>ly+len)||(v[r]>=ly+len)) ans++;
				if (v[r]-v[l]==len) res++;
				while (l+1<siz&&v[l]<R) {
					ans++,l++;
					if (v[r]-v[l]==len) res++;
				} r++;
			}
		}
	}
}
int main() {
	read(n); for (int i=1;i<=n;i++) read(p[i].x),read(p[i].y);
	ans=n+1; run(); 
	for (int i=1;i<=n;i++) swap(p[i].x,p[i].y);
	run(); print(ans-res/2);
}
```

### T3 åŠ å›º

### é¢˜ç›®æè¿°

å°½ç®¡é˜µå‹çš„åˆ†å‰²åšçš„é¢‡ä¸ºé¡ºåˆ©ï¼Œä½†æ˜¯ç¬¬äºŒå¤©ç‹æ‰‹ä¸‹çªç„¶å‡ºç°çš„ç ´é˜µå¸ˆè®©è¿™ä¸€æ¬¡å›´æ”»è®¡åˆ’æœ‰äº†ä¸€å®šçš„æ‚¬å¿µï¼Œå› æ­¤ï¼Œå°ğ´éœ€è¦åŠ å›ºè¿™ä¸€ä¸ªé­”æ³•é˜µã€‚ä¸è¿‡åœ¨åŠ å›ºä¹‹å‰ï¼Œå°ğ´éœ€è¦çŸ¥é“è¿™ä¸ªé­”æ³•é˜µè¢«ç ´è§£åˆ°äº†æ€æ ·çš„ç¨‹åº¦ã€‚

ç ´è§£é­”æ³•é˜µåªéœ€è¦é‡å¤åŸå”±ä¸€æ®µç›¸åŒçš„å’’è¯­å³å¯ï¼Œç ´é˜µå¸ˆå·²ç»å°†è¿™ä¸€æ®µå’’è¯­é‡å¤åŸå”±äº†è‹¥å¹²æ¬¡ï¼Œæ®å°ğ´æ‰€çŸ¥ï¼Œè¿™ä¸€æ®µå’’è¯­æ˜¯å°†26ä¸ªå°å†™è‹±æ–‡å­—æ¯æŒ‰ç…§æŸç§ç‰¹å®šçš„é¡ºåºæ’åˆ—å¾—åˆ°çš„ã€‚å°ğ´å¹¶ä¸çŸ¥é“è¿™ä¸€ç§ç‰¹æ®Šçš„æ’åˆ—é¡ºåºï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œä»–ä¹Ÿå¹¶æ²¡æœ‰å®Œæ•´å¬æ¸…æ¥šç ´é˜µå¸ˆçš„åŸå”±ã€‚å°ğ´å°†å¬è§çš„ç ´é˜µå¸ˆçš„åŸå”±å†…å®¹è¿æ¥æˆäº†ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä»–éœ€è¦è®©ä½ å¸®å¿™æ±‚å‡ºï¼Œæœ€å¥½æƒ…å†µä¸‹ï¼Œè¿™ä¸€æ®µç»ˆäºè¢«é‡å¤åŸå”±äº†å¤šå°‘æ¬¡(å³æœ€å°‘çš„åŸå”±æ¬¡æ•°)ã€‚

### é¢˜ç›®åˆ†æ



### å‚è€ƒä»£ç 

```c++
#include<bits/stdc++.h>
using namespace std;
typedef long long van;
template<typename T> inline
void read(T& x) {
	van f=1,b=0;char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b; return;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0) {putchar('0');return;}
	van st[41]={0},k=0;
	while (x) st[++k]=x%10,x/=10;
	for (int i=k;i;i--) putchar(st[i]+'0');
}
const van MaxN=22;
string x; van s[MaxN][MaxN];
van num[100010],tmp[100010];
van dp[1<<MaxN];
int main() {
//	freopen("reinforce.in","r",stdin);
//	freopen("reinforce.out","w",stdout);
	cin>>x; van n=x.size(); 
	for (int i=1;i<=n;i++) num[i]=x[i-1];
	memcpy(tmp,num,sizeof tmp); sort(tmp+1,tmp+n+1);
	van cnt=unique(tmp+1,tmp+n+1)-tmp-1;
//	cout<<cnt<<endl;
	for (int i=1;i<=n;i++) num[i]=lower_bound(tmp+1,tmp+cnt+1,num[i])-tmp;
	for (int i=1;i<n;i++) s[num[i]][num[i+1]]++;
	memset(dp,(1<<6)-1,sizeof dp); dp[0]=1;
//	cout<<1<<endl;
	for (int i=1;i<(1<<cnt);i++) {
		for (int j=1;j<=cnt;j++) {
			if (i&(1<<(j-1))) {
				van sum=dp[i^(1<<(j-1))];
				for (int k=1;k<=cnt;k++) if (i&(1<<(k-1))) sum+=s[j][k];
				dp[i]=min(dp[i],sum);
			}
		} // if (i%1000==0) print(i),putchar('\n');
	} print(dp[(1<<cnt)-1]); return 0;
}
```

### T4 æ–©é¦–è¡ŒåŠ¨

### é¢˜ç›®æè¿°

ç°åœ¨æ•´ä¸ªç¬¬äºŒå¤©ç‹åŠå…¶æ‰‹ä¸‹éƒ½è¢«ä¸€ä¸€åˆ†ç¦»å¯ä»¥é€ä¸ªå‡»ç ´äº†ï¼Œä½†æ˜¯ï¼Œç”±äºæ‰€æœ‰äººçš„è£…æŸéƒ½æ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œå°ğ´æ— æ³•å°†æ¯ä¸€ä¸ªæ•Œäººçš„èº«ä»½å’Œä½ç½®å¯¹åº”èµ·æ¥ã€‚ä¸è¿‡ï¼Œå°ğ´çŸ¥é“æœ€å¼€å§‹çš„ğ‘ä¸ªæ•Œäººå¯¹åº”çš„ç¼–å·ã€‚

åœ¨è¿›å…¥é™·é˜±å‰ï¼Œé˜Ÿä¼è¢«æ‰“ä¹±è¿‡ï¼Œæœ€å¼€å§‹ï¼Œç¼–å·ä½ğ‘–çš„æ•Œäººä½äºä½ç½®ğ‘–å‡ºã€‚éšåï¼Œæ¯ä¸€åˆ†é’Ÿï¼Œä¼šæœ‰ä¸¤ä¸ªæ•Œäººäº¤æ¢è‡ªå·±çš„ä½ç½®ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªé•¿åº¦ä¸ºğ¾çš„äºŒå…ƒç»„åºåˆ—(ğ‘ğ‘–, ğ‘ğ‘–)è¡¨ç¤ºè¿™ç§ä½ç½®äº¤æ¢ï¼Œåœ¨ç¬¬ğ‘–åˆ†é’Ÿï¼Œä½ç½®ğ‘ğ‘–ä¸Šçš„æ•Œäººä¼šå’Œä½ç½®ğ‘ğ‘–ä¸Šçš„æ•Œäººè¿›è¡Œä½ç½®äº¤æ¢ã€‚è¿™ç§äº¤æ¢ä¼šä»¥ğ¾åˆ†é’Ÿä¸ºä¸€ä¸ªå¾ªç¯é‡å¤æ‰§è¡Œåˆ°è‡³å¤šç¬¬ğ‘€åˆ†é’Ÿã€‚

ä½ çš„ä»»åŠ¡æ˜¯æ±‚å‡ºï¼Œå¯¹äºæ¯ä¸€ä¸ªåˆå§‹ç¼–å·ğ‘–ï¼Œæ±‚å‡ºç¼–å·ä¸ºğ‘–æ•Œäººå¯èƒ½å‡ºç°çš„ä½ç½®ã€‚

### é¢˜ç›®åˆ†æ



### å‚è€ƒä»£ç 

```c++
#include<bits/stdc++.h>
#define van long long
#define ywhin cin
#define ywhout cout
using namespace std;
bool ppppp;
const van K=1000100,N=1000100;
van n,k,m;
van x[K],y[K],now[N];
van ans[N],tmp[N],ansnow;
van toelem[N],toid[N],weight[N],cnt;
bool used[N];
van last[N];
van line[N*2],top;
bool pppppp;

void InitProgram() {
	cnt=n;
	for (int i=1;i<=n;i++) {
		now[i]=i;
		toelem[i]=i;
	}
}
void add(van x) {
	if (tmp[x]==0) ansnow++;
	tmp[x]++;
}
void del(van x) {
	tmp[x]--;
	if (!tmp[x]) ansnow--;
}
void addLine(van to,van s,van e,van val) {
	toid[s]=to;
	toelem[to]=e;
	weight[to]=val;
}
void DFS(van now) {
	if (used[now]) return;
	used[now]=1;line[++top]=now;
	DFS(toid[now]);
}

int main() {
	ywhin>>n>>k>>m;
	InitProgram();
	for (int i=1;i<=k;i++) {
		ywhin>>x[i]>>y[i];
		addLine(++cnt,now[x[i]],y[i],i-last[x[i]]);
		addLine(++cnt,now[y[i]],x[i],i-last[y[i]]);
		now[y[i]]=cnt-1,now[x[i]]=cnt;
		last[x[i]]=last[y[i]]=i;
	}
	for (int i=1;i<=n;i++) {
		toid[now[i]]=i;
		weight[i]=k-last[i];
	}
	for (int i=1;i<=n;i++) {
		if (!used[i]) {
			top=0;DFS(i);van back=top;
			for (int j=1;j<=back;j++) line[++top]=line[j];
			van right=1,sum=0;add(toelem[line[1]]);
			for (int j=1;j<=top;j++) {
				while(sum+weight[line[right+1]]<=m&&right+1<=top) {
					sum+=weight[line[right+1]];
					add(toelem[line[right+1]]);
					right++;
				}
				if (line[j]<=n&&j<=top/2) ans[line[j]]=ansnow;
				del(toelem[line[j]]);
				sum-=weight[line[j+1]];
			} 
		}
	}
	for (int i=1;i<=n;i++) ywhout<<ans[i]<<endl;
	return 0;
}
```

## 20220219

### T1 photo

### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå­—ç¬¦çŸ©å½¢ï¼Œè¾“å‡ºå®ƒé¡ºæ—¶é’ˆæ—‹è½¬ 90 åº¦ï¼Œç„¶åæ°´å¹³ç¿»è½¬ï¼Œæœ€åæ”¾å¤§ä¸¤å€çš„å›¾åƒã€‚

### é¢˜ç›®åˆ†æ



### å‚è€ƒä»£ç 

```c++
#include<bits/stdc++.h>
using namespace std;
typedef long long van;
template<typename T> inline
void read(T& x) {
	T f=1,b=0; char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b; return;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0) {putchar('0');return;}
	van st[52]={0},top=0;
	while (x) st[++top]=x%10,x/=10;
	for (int i=top;i;i--) putchar(st[i]+'0');
}
const van MaxN=1e3+10;
van n,m;
char x[MaxN][MaxN],y[MaxN][MaxN];
int main() {
//	freopen("photo.in","r",stdin);
//	freopen("photo.out","w",stdout);
	read(n),read(m);
	for (int i=1;i<=m;i++) for (int j=1;j<=n;j++) cin>>x[j][i];
//	for (int i=1;i<=n;i++){for (int j=1;j<=m;j++) cout<<x[i][j];cout<<endl;}
	for (int i=1;i<=n;i++) for (int j=1;j<=m;j++) 
		y[i*2][j*2]=y[i*2-1][j*2]=y[i*2][j*2-1]=y[i*2-1][j*2-1]=x[i][j];
	for (int i=1;i<=n*2;i++) {
		for (int j=1;j<=m*2;j++) {
			cout<<y[i][j];
		} cout<<endl;
	}
	return 0;
}
```

### T2 swap

### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªåºåˆ— a ï¼Œå…ƒç´ ä¸¤ä¸¤ä¸åŒï¼Œå¯ä»¥ä½¿ç”¨ä¸¤ç§æ“ä½œã€‚

1. ç¿»è½¬ç›¸é‚»ä¸¤ä¸ªå…ƒç´ 
2. ç¿»è½¬ç›¸é‚»ä¸‰ä¸ªå…ƒç´ 

é—®æ€ä¹ˆæ“ä½œä½¿è¿™ä¸ªåºåˆ—å˜æˆå‡åºï¼Œå¹¶ä½¿æ“ä½œä¸€çš„æ¬¡æ•°æœ€å°‘ï¼Œä¸”è¾“å‡ºè¿™ä¸ªæœ€å°‘çš„æ¬¡æ•°

### é¢˜ç›®åˆ†æ



### å‚è€ƒä»£ç 

```c++
#include<bits/stdc++.h>
using namespace std;
typedef long long van;
template<typename T> inline
void read(T& x) {
	T f=1,b=0; char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b; return;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0) {putchar('0');return;}
	van st[52]={0},top=0;
	while (x) st[++top]=x%10,x/=10;
	for (int i=top;i;i--) putchar(st[i]+'0');
}
const van MaxN=1e5+10; van ans=0;
van n,a[MaxN],b[MaxN],c[MaxN];
int main() {
//	freopen("swap.in","r",stdin);
//	freopen("swap.out","w",stdout);
	read(n); for (int i=1;i<=n;i++) read(a[i]);
	memcpy(b,a,sizeof b); sort(b+1,b+n+1);
	van cnt=unique(b+1,b+n+1)-b-1;
	for (int i=1;i<=n;i++) c[i]=lower_bound(b+1,b+cnt+1,a[i])-b;
	for (int i=1;i<=n;i++) if (i%2!=c[i]%2) ans++;
	print(ans/2);
	return 0;
}
```

### T3 tree

### é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•´æ•°åºåˆ— aï¼Œé—®æ˜¯å¦èƒ½æ„é€ ä¸€æ£µå®Œç¾æ ‘ã€‚
å®Œç¾æ ‘çš„æ¯æ¡è¾¹é•¿åº¦éƒ½ä¸º 1ã€‚å¹¶ä¸”å¯¹äºæ¯ä¸€ä¸ªç‚¹ iï¼Œåœ¨æ ‘ä¸­ç¦»å®ƒè·ç¦»æœ€è¿œçš„ç‚¹ä¸å®ƒçš„è·ç¦»æ°å¥½ç­‰äº aiã€‚

### é¢˜ç›®åˆ†æ



### å‚è€ƒä»£ç 

```c++
#include<bits/stdc++.h>
using namespace std;
typedef long long van;
template<typename T> inline
void read(T& x) {
	T f=1,b=0; char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b; return;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0) {putchar('0');return;}
	van st[52]={0},top=0;
	while (x) st[++top]=x%10,x/=10;
	for (int i=top;i;i--) putchar(st[i]+'0');
}
const van MaxN=1e3+10;
van n,a[MaxN],siz;
bool used[MaxN];
struct node {
	van num,id;
	node(){};
	node(van num,van id):num(num),id(id){};
	bool operator < (const node& a) const {
		return num<a.num;
	}
}nod[MaxN];
void clear() {
	memset(used,0,sizeof used);
}
bool solve() {
	van maxid=0; read(n); for (int i=1;i<=n;i++) read(a[i]);
	for (int i=1;i<=n;i++) if (a[i]>a[maxid]) maxid=i;
	siz=a[maxid]+1; van cent=siz/2+1;
	for (int i=1;i<=n;i++) if (a[i]<siz/2) return false;
	for (int i=1;i<=n;i++) nod[i]=node(a[i],i);
	sort(nod+1,nod+n+1); used[siz]=used[a[1]+1]=1;
	for (int i=1;i<=n;i++) {
		if (nod[i].id==maxid||nod[i].id==1) continue;
		if (!used[nod[i].num+1]){used[nod[i].num+1]=1;continue;}
		if (!used[siz-nod[i].num]){used[siz-nod[i].num]=1;continue;}
		if (cent>nod[i].num) return false;
	} for (int i=1;i<=siz;i++) if (!used[i]) return false;
	return true;
}
int main() {
//	freopen("tree.in","r",stdin);
//	freopen("tree.out","w",stdout);
//	van T; read(T);
//	for (int i=1;i<=T;i++) 
	clear(),cout<<(solve()?"Possible":"Impossible")<<endl;
	return 0;
}
```

### T4 rabbit

### é¢˜ç›®æè¿°

æœ‰ n åªå…”å­åœ¨ä¸€ä¸ªæ•°è½´ä¸Šï¼Œå…”å­ä¸ºäº†æ–¹ä¾¿èµ·è§ä» 1 åˆ° n æ ‡å·ï¼Œç¬¬ i åªå…”å­çš„åˆå§‹åæ ‡ä¸º xiã€‚

å…”å­ä¼šä»¥ä»¥ä¸‹çš„æ–¹å¼åœ¨æ•°è½´ä¸Šé”»ç‚¼ï¼šä¸€è½®åŒ…å« m æ¬¡è·³è·ƒï¼Œç¬¬ j æ¬¡æ˜¯ç¼–å·ä¸º aj çš„å…”å­è·³ä¸€ä¸‹ï¼Œå®ƒä¼šä»å…”å­ aj-1 å’Œå…”å­ aj+1 ä¸­ç­‰æ¦‚ç‡çš„é€‰ä¸€ä¸ªï¼ˆå‡è®¾é€‰äº† x ï¼‰ï¼Œé‚£ä¹ˆ aj å·å…”å­ä¼šè·³åˆ°å®ƒå½“å‰åæ ‡å…³äº x çš„åæ ‡çš„å¯¹ç§°ç‚¹ã€‚ï¼ˆæ³¨æ„ï¼Œå³ä½¿å…”å­çš„ä½ç½®é¡ºåºå˜åŒ–äº†ï¼Œä½†æ˜¯ç¼–å·ä»ä¿æŒä¸å˜ï¼Œè¿™é‡ŒæŒ‰å…”å­ç¼–å·ç®—ï¼‰å…”å­ä¼šè¿›è¡Œ k è½®è·³è·ƒï¼Œå¯¹æ¯ä¸ªå…”å­ï¼Œè¯·ä½ æ±‚å‡ºå®ƒæœ€ååæ ‡çš„æœŸæœ›å€¼ã€‚

### é¢˜ç›®åˆ†æ



### å‚è€ƒä»£ç 

```c++
#include<bits/stdc++.h>
using namespace std;
typedef long long van;
template<typename T> inline
void read(T& x) {
	T f=1,b=0; char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b; return;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0) {putchar('0');return;}
	van st[52]={0},top=0;
	while (x) st[++top]=x%10,x/=10;
	for (int i=top;i;i--) putchar(st[i]+'0');
}
const van MaxN=1e5+10;
van n,m,k,op[MaxN];double x[MaxN];
int main() {
	freopen("rabbit.in","r",stdin);
	freopen("rabbit.ans","w",stdout);
	read(n); for (int i=1;i<=n;i++) read(x[i]);
	read(m),read(k); for (int i=1;i<=m;i++) read(op[i]);
	for (int i=1;i<=k;i++) {
		for (int j=1;j<=m;j++) {
			van e=op[j];
			x[e]=x[e-1]+x[e+1]-x[e];
		} 
	} for (int k=1;k<=n;k++) cout<<fixed<<setprecision(1)<<x[k]<<endl;
	return 0;
}
```

### T5 ball

### é¢˜ç›®æè¿°

æœ‰ä¸€ä¸ªæ£‹ç›˜ï¼Œä¸Šé¢è¦ä¹ˆæ˜¯ç©ºçš„ï¼Œè¦ä¹ˆæœ‰ä¸€ä¸ªçƒï¼Œè¦ä¹ˆæ˜¯ä¸€ä¸ªå‡ºå£ï¼ˆæ•´ä¸ªåœ°å›¾åªæœ‰ä¸€ä¸ªå‡ºå£ï¼‰ã€‚

æ¯æ¬¡å¯ä»¥è®©æ‰€æœ‰çƒå‘ä¸Šä¸‹å·¦å³ä¸­çš„æŸä¸ªæ–¹å‘ç§»åŠ¨ä¸€æ ¼ï¼Œå¦‚æœå®ƒè¶…å‡ºäº†æ£‹ç›˜çš„è¾¹ç•Œå°±ä¼šæ¶ˆå¤±ã€‚å¦‚æœå®ƒåˆ°äº†å‡ºå£çš„ä½ç½®ä½ å°±èƒ½å¾—åˆ°è¿™é¢—çƒ(å¹¶ä¸”ä»æ£‹ç›˜ä¸Šæ¶ˆå¤±)ã€‚æ±‚ä½ èƒ½å¤Ÿå¾—åˆ°çš„çƒçš„æœ€å¤§å€¼ã€‚

### é¢˜ç›®åˆ†æ



### å‚è€ƒä»£ç 

```c++
#include<bits/stdc++.h>
using namespace std;
typedef long long van;
template<typename T> inline
void read(T& x) {
	T f=1,b=0; char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b; return;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0) {putchar('0');return;}
	van st[52]={0},top=0;
	while (x) st[++top]=x%10,x/=10;
	for (int i=top;i;i--) putchar(st[i]+'0');
}
const van MaxN=1e3+10;
van n,m,x,y,sum[MaxN][MaxN]; char ch[MaxN][MaxN];
van l,r,u,d,VanGo[4][2]={{1,0},{0,1},{-1,0},{0,-1}},ans;
bool used[MaxN][MaxN];
van GetBalls(van x1,van y1,van x2,van y2) {
	if (y2<y1||x2<x1) return 0;
//	assert(y2>=y1); assert(x2>=x1);
	return sum[x2][y2]-sum[x2][y1-1]-sum[x1-1][y2]+sum[x1-1][y1-1];
}
bool in(van x,van y) {return x>=1&&y>=1&&x<=n&&y<=m;}
van f[11][11][11][11][11][11];
void DFS(van x,van y,van minx,van maxx,van miny,van maxy,van num) {
	if ()
	if (ch[x][y]=='o'&&!used[x][y]) num++; 
	used[x][y]=1; for (int i=0;i<4;i++) {
		van xx=x+VanGo[i][0],yy=y+VanGo[i][1];
		if (in(xx,yy)) {
			van nminx=max(minx,xx-l),nminy=max(miny,yy-u),
				nmaxx=min(maxx,xx+r),nmaxy=min(maxy,yy+d);
			DFS(xx,yy,nminx,nmaxx,nminy,nmaxy,num);
		}
	} used[x][y]=0;
}
void DFS(van x,van y,van minx,van maxx,van miny,van maxy,van num) {
	if (ch[x][y]=='o'&&!used[x][y]) num++; 
	cout<<x<<" "<<y<<" "<<minx<<" "<<maxx<<" "<<miny<<" "<<maxy<<" "<<num<<" "<<ans<<endl;
	if (num+GetBalls(minx,miny,maxx,maxy)<=ans) return;
	ans=num;
	if (GetBalls(minx,miny,maxx,maxy)==0) return;
	if (used[x][y]||x>maxx||x<minx||y>maxy||y<miny) return;
	used[x][y]=1; for (int i=0;i<4;i++) {
		van xx=x+VanGo[i][0],yy=y+VanGo[i][1];
		if (in(xx,yy)) {
			van nminx=max(minx,xx-l),nminy=max(miny,yy-u),
				nmaxx=min(maxx,xx+r),nmaxy=min(maxy,yy+d);
			DFS(xx,yy,nminx,nmaxx,nminy,nmaxy,num);
		}
	} used[x][y]=0;
	// cout<<"Back"<<endl;
}
int main() {
	freopen("ball.in","r",stdin);
	read(n),read(m); for (int i=1;i<=n;i++) for (int j=1;j<=m;j++) cin>>ch[i][j];
	for (int i=1;i<=n;i++) for (int j=1;j<=m;j++) if (ch[i][j]=='E') x=i,y=j;
	for (int i=1;i<=n;i++) for (int j=1;j<=n;j++) if (ch[i][j]=='o') sum[i][j]=1;
	l=x-1,r=n-x,u=y-1,d=m-y; DFS(x,y,1,n,1,m,0);
	freopen("ball.out","w",stdout);
	print(ans);
	return 0;
}
```

## 20220226

### T1 è¾“å‡ºç»ƒä¹ 

### é¢˜ç›®æè¿°
### è¾“å…¥æè¿°
### è¾“å‡ºæè¿°
### é¢˜ç›®åˆ†æ
### å‚è€ƒä»£ç 

```c++
/*
	T1 output:
	æ°´é¢˜ä¸€é“ã€‚foråˆ¤æ–­ä¸€ä¸‹æœ‰å“ªäº›æ•°æ˜¯kçš„iæ¬¡æ–¹ï¼Œå†åˆ¤æ–­è¿™äº›æ•°æ˜¯å¦åœ¨ç»™å®šçš„èŒƒå›´å†…å°±è¡Œäº†ã€‚
	æ³¨æ„: 
	1. å¦‚æœkè¾ƒå¤§ä¼šå‡ºç°ä¹˜ä¸ªå‡ æ¬¡å°±çˆ†äº†ï¼Œæ‰€ä»¥å¦‚æœå‘ç°ä¹˜å‡ºèŒƒå›´äº†è¦åŠæ—¶é€€å‡ºå¾ªç¯
	2. è¿™ä¸ªæœ€å¤§å¾ªç¯èŒƒå›´ä¸èƒ½æ˜¯rï¼Œ
	   å› ä¸ºå½“k=l=r=0æ—¶ï¼Œä½ ç¬¬ä¸€æ¬¡å°±é€€å‡ºå¾ªç¯äº†ï¼Œæ²¡æœ‰ç­”æ¡ˆï¼Œä½†ç­”æ¡ˆå´ä¼šæœ‰ä¸€ä¸ª0
	   å»ºè®®è¿™ä¸ªæœ€å¤§èŒƒå›´æ˜¯é¢˜ç›®ä¸­æ•°æ®çš„æœ€å¤§èŒƒå›´2^63ï¼Œä¸ºä¿é™©èµ·è§ï¼Œå¯ä»¥å†å¼€å¤§ç‚¹ã€‚ 
	3. å½“k=0æ—¶ï¼Œå¯èƒ½çš„å€¼æœ‰ä¸¤ç§ï¼Œå³1,0
	4. ä¸ºäº†é¿å…å…‰æ˜¯k*kå°±çˆ†äº†ï¼Œå»ºè®®å¼€ä¸ª__int128
	5. ä¸èƒ½å³æ—¶è¾“å‡ºï¼Œä¸‡ä¸€k=1çš„æ—¶å€™ï¼Œå³æ—¶è¾“å‡ºäº†å¤šä¸ª1ï¼Œä¹Ÿä¼šçˆ†
	6. ä¸èƒ½å¼€boolæ•°ç»„åˆ¤æ–­æ˜¯å¦è¾“å‡ºè¿‡äº†(ä½ æ‡‚çš„)
	7. é›†åˆä¸èƒ½å¼€æˆå¯é‡é›†äº†ï¼Œä¸ç„¶åªèƒ½èµ·åˆ°ä¸€ä¸ªæ’åºçš„ä½œç”¨ 
*/
#include<bits/stdc++.h>
using namespace std;
typedef __int128 van;
template<typename T> inline
void read(T& x) {
	T f=1,b=0;char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b;return;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0){putchar('0');return;}
	van st[51]={0},k=0;
	while (x) st[++k]=x%10,x/=10;
	for (int i=k;i;i--) putchar(st[i]+'0');
}
unsigned long long max_=-1;
int main() {
	freopen("output.in","r",stdin);
	freopen("output.out","w",stdout);
	van T; read(T);
	for (int tt=1;tt<=T;tt++) {
		van l,r,k; read(l),read(r),read(k);
		set<van> ans;
		van res=1; for (int i=0;i<=63;i++) {
			if (res>van(max_)) break;
			if (res>=l&&res<=r) ans.insert(res);
			res*=k;
		} if (ans.size()==0) puts("None.");
		else {
			for (set<van>::iterator it=ans.begin();it!=ans.end();it++) 
				print(*it),putchar(' ');putchar('\n');
		}
	}
	return 0;
}
```

### T2 æœ€è¿‘è·ç¦»

### é¢˜ç›®æè¿°
### è¾“å…¥æè¿°
### è¾“å‡ºæè¿°
### é¢˜ç›®åˆ†æ
### å‚è€ƒä»£ç 

```c++
/*
	T2 dis:
	å¾ˆæ˜æ˜¾çš„æ•°æ®ç»“æ„é¢˜ï¼Œå¯¹è¯¢é—®æŒ‰å³ç«¯ç‚¹ä»å°åˆ°å¤§æ’åºã€‚
	çº¿æ®µæ ‘ä¸­è®°å½•å¯¹äºæŸä¸ªç‚¹å®ƒçš„ä¸‹ä¸€ä¸ªå’Œå®ƒç›¸åŒçš„ç‚¹åœ¨dat[i]ä¸ªå•ä½åã€‚ 
	è®°å½•ä¸€ä¸ªå˜é‡Rè¡¨ç¤ºå·²ç»å°†å‰Rä¸ªæ•°çš„æ•°æ®åŠ å…¥åˆ°çº¿æ®µæ ‘ä¸­äº†ã€‚
	å¯¹äºæ¯ä¸ªè¯¢é—®ï¼Œå…ˆå°†R+1åˆ°q[i].rçš„æ•°æ®å…¨éƒ¨åŠ å…¥åˆ°çº¿æ®µæ ‘ä¸­ï¼Œç„¶åè¯¢é—®q[i].låˆ°nçš„æœ€å°å€¼å³å¯ã€‚
	æ³¨æ„: 
	ä¹Ÿæ²¡å•¥å¥½æ³¨æ„çš„ï¼Œæ‰“å‡ºæ¥å°±è¡Œäº†ã€‚ 
*/
#include<bits/stdc++.h>
using namespace std;
typedef long long van;
template<typename T> inline
void read(T& x) {
	T f=1,b=0;char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b;return;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0){putchar('0');return;}
	van st[51]={0},k=0;
	while (x) st[++k]=x%10,x/=10;
	for (int i=k;i;i--) putchar(st[i]+'0');
}
const van MaxN=1e6+10;
van n,m,a[MaxN],tmp[MaxN];
van lst[MaxN],ans[MaxN];
struct query {
	van l,r,id;
	bool operator < (const query& a) const {
		return r<a.r;
	}
}q[MaxN];
struct SegmentTree {
	van dat[MaxN<<2];
	void BuildTree(van p=1,van l=1,van r=n) {
		if (l==r){dat[p]=1e18;return;}
		van mid=(l+r)>>1;
		BuildTree(p*2,l,mid);
		BuildTree(p*2+1,mid+1,r);
		dat[p]=min(dat[p*2],dat[p*2+1]);
	}
	void UpdateTree(van wh,van num,van p=1,van l=1,van r=n) {
		if (wh<l||wh>n) return;
		if (l==r) {dat[p]=min(dat[p],num);return;}
		van mid=(l+r)>>1;
		if (wh<=mid) UpdateTree(wh,num,p*2,l,mid);
		else UpdateTree(wh,num,p*2+1,mid+1,r);
		dat[p]=min(dat[p*2],dat[p*2+1]);
	}
	van QueryTree(van L,van R,van p=1,van l=1,van r=n) {
		if (L<=l&&r<=R) return dat[p];
		van mid=(l+r)>>1,ans=1e18;
		if (L<=mid) ans=min(ans,QueryTree(L,R,p*2,l,mid));
		if (R>mid) ans=min(ans,QueryTree(L,R,p*2+1,mid+1,r));
		return ans;
	}
}T;
int main() {
	freopen("dis.in","r",stdin);
	freopen("dis.out","w",stdout);
	read(n),read(m);
	for (int i=1;i<=n;i++) read(a[i]);
	memcpy(tmp,a,sizeof tmp);sort(tmp+1,tmp+n+1);
	van cnt=unique(tmp+1,tmp+n+1)-tmp-1;
	for (int i=1;i<=n;i++) a[i]=lower_bound(tmp+1,tmp+cnt+1,a[i])-tmp;
	for (int i=1;i<=m;i++) read(q[i].l),read(q[i].r),q[i].id=i;
	sort(q+1,q+m+1); T.BuildTree(); van R=0;
//	for (int i=1;i<=n;i++) lst[i]=-1e18;
	for (int i=1;i<=m;i++) {
		while (R<q[i].r) R++,T.UpdateTree(lst[a[R]],R-lst[a[R]]),lst[a[R]]=R;
//		for (int j=1;j<=n;j++) cout<<T.QueryTree(j,j)<<" ";cout<<endl;
//		for (int j=1;j<=n;j++) cout<<lst[j]<<" ";cout<<endl;
		ans[q[i].id]=T.QueryTree(q[i].l,n);
	} for (int i=1;i<=m;i++) print(ans[i]>=1e18?-1:ans[i]),putchar('\n');
	return 0;
}
```

### T3 å­—å…¸åºé¢˜

### é¢˜ç›®æè¿°
### è¾“å…¥æè¿°
### è¾“å‡ºæè¿°
### é¢˜ç›®åˆ†æ
### å‚è€ƒä»£ç 

```c++
/*
	T3 sort:
	è¯ˆéª—é¢˜ä¸€é“ï¼Œç”¨æš´åŠ›æ‰“å‡ºn=8çš„æ‰€æœ‰æƒ…å†µæ¥çœ‹å°±èƒ½å‘ç°è§„å¾‹ã€‚
	å¾ˆæ˜æ˜¾çš„ï¼Œç”±1å¼€å¤´çš„æœ‰64ç§åˆæ³•æƒ…å†µï¼Œ2æœ‰32ç§ï¼Œ3æœ‰16ç§ï¼Œ...
	è€Œä¸”ç”±1å¼€å¤´çš„64ç§å‰ç¼€å‡ä¸º1ï¼Œ2ä¸º21ï¼Œ3ä¸º321ï¼Œ...
	ç”±æ­¤æˆ‘ä»¬å¯ä»¥å¤§èƒ†æ¨æµ‹æ‰¾åˆ°ç¬¬ä¸€ä¸ªå‰ç¼€ååé¢ä¹Ÿä¼šéµå¾ªå¦‚ä¸Šçš„è§„å¾‹ã€‚
	äºæ˜¯å¸¦è¿›å»ä¸€ä¸ªä¸ªéªŒè¯ï¼Œå‘ç°çš„ç¡®å¦‚æ­¤ã€‚
	ç”±æ­¤æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨åˆ†æ²»çš„æ€è·¯æ¥è§£å†³è¿™é¢˜ã€‚
	æ³¨æ„: 
	1. æ˜¯å¦è¶…å‡ºèŒƒå›´çš„åˆ¤å®šé—®é¢˜ã€‚å¾ˆæ˜¾ç„¶å¯¹äºä¸€ç»„æ•°æ®ï¼Œå­˜åœ¨çš„æƒ…å†µæœ‰2^(n-1)ç§ã€‚ 
	   ä½ æ€»ä¸å¯èƒ½çœŸçš„å°†1å‘å·¦ç§»n-1ä½æ¥å’Œkæ¯”è¾ƒå§... 
	2. kçš„èŒƒå›´åˆå¤§å‡ºå¤©é™…äº†ï¼Œå¼€ä¸ª__int128å§
	3. åˆ†æ²»çš„è¾¹ç•Œé—®é¢˜ï¼Œä¸€å®šè¦æ³¨æ„è¾¹ç•Œæ˜¯å¦å¤„ç†å¥½äº†ã€‚å¯ä»¥é€ å‡ ç»„è¾¹ç•Œçš„æ•°æ®æ¥æµ‹è¯•
	4. å¦‚æœæ€•å‡ºé—®é¢˜ï¼Œå¯ä»¥è€ƒè™‘å°†æš´åŠ›åˆ†ç¨³ç¨³åœ°æ‹¿åˆ°ï¼Œå†å»åšæ­£è§£
*/
#include<bits/stdc++.h>
using namespace std;
typedef __int128 van;
template<typename T> inline
void read(T& x) {
	T f=1,b=0;char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b;return;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0){putchar('0');return;}
	van st[51]={0},k=0;
	while (x) st[++k]=x%10,x/=10;
	for (int i=k;i;i--) putchar(st[i]+'0');
}
const van MaxN=1e5+10;
van n,k,tmpk,up[MaxN],sum[MaxN],ans[MaxN];
bool used[MaxN],hans; van num[MaxN],ansnum=0;
struct TreeArray {
	van c[MaxN];
	van lowbit(van x) {return x&-x;}
	void add(van wh,van num) {while (wh<=n+1) c[wh]+=num,wh+=lowbit(wh);}
	van query(van wh) {van ans=0; while (wh) ans+=c[wh],wh-=lowbit(wh);return ans;}
}T;
void DFS(van now=1) {
	if (now>n) {
		for (int i=1;i<n;i++) if (num[i+1]<num[i]-1) return;
		if (ansnum==k-1) {
			hans=1;
			freopen("sort.out","w",stdout);
			for (int i=1;i<=n;i++) print(num[i]),putchar(' ');putchar('\n');
		} ansnum++;
		return;
	} for (int i=1;i<=n;i++) {
		if (!used[i]) {
			used[i]=1; num[now]=i;
			DFS(now+1); used[i]=0;
		}
	}
}
int main() {
	freopen("sort.in","r",stdin);
	read(n),read(k); tmpk=k;
	if (n<=10) {
		DFS(); if (!hans) {
			freopen("sort.out","w",stdout);
			print(-1);
		} return 0; 
	}
	up[1]=up[0]=1;
	for (int i=2;i<=n;i++) {
		if (up[i-1]>1e18) up[i]=up[i-1];
		else up[i]=up[i-1]*2;
	} for (int i=1;i<=n;i++) T.add(i,up[n-i]);
	van bitnow=1;
	while (bitnow<=n) {
		van wh=1e18,l=bitnow,r=n;
		while (l<=r) {
			van mid=(l+r)>>1;
			if (T.query(mid)-T.query(bitnow-1)>=k) wh=mid-bitnow,r=mid-1;
			else l=mid+1;
		}
		if (wh==1e18) {print(-1);return 0;} 
		for (int i=0;i<=wh;i++) ans[bitnow+i]=bitnow+wh-i;
		k-=T.query(wh+bitnow-1)-T.query(bitnow-1); bitnow+=wh+1;
	} 
	freopen("sort.out","w",stdout);
	for (int i=1;i<=n;i++) print(ans[i]),putchar(' ');putchar('\n');
	return 0;
}
```

### T4 åŒºé—´æ±‚å’Œ

### é¢˜ç›®æè¿°
### è¾“å…¥æè¿°
### è¾“å‡ºæè¿°
### é¢˜ç›®åˆ†æ
### å‚è€ƒä»£ç 

40Pts:
```c++
/*
	T4 sum:
	é¬¼çŸ¥é“æ­£è§£æ€ä¹ˆåšã€‚è¿™å¤§æ¦‚å°±æ˜¯é’Ÿç¥èƒ½ç‹ ç‹ åœ°ç”©æˆ‘ä»¬çš„é‚£é“é¢˜å§ã€‚
	40Ptsçš„æš´åŠ›è¿˜æ˜¯å¾ˆå¥½æ‹¿åˆ°çš„ï¼Œç›´æ¥mn^2å°±å¯ä»¥äº†ã€‚
	å¦‚æœæƒ³è¦æ›´å¥½çš„æ—¶é—´å¤æ‚åº¦ï¼Œå¯ä»¥å‚è€ƒT2çš„ç»´æŠ¤æ–¹æ³•ï¼Œå°†è¯¢é—®æ’åºï¼Œ
	ç„¶åå†ç”¨çº¿æ®µæ ‘ç»´æŠ¤å¯¹äºä»¥æ¯ä¸ªç‚¹ä¸ºå·¦åŒºé—´ï¼Œå³åŒºé—´å°äºç­‰äºq[i].rçš„ç­”æ¡ˆã€‚
	ç›´æ¥æŸ¥è¯¢å³å¯ï¼Œæ—¶é—´å¤æ‚åº¦mnlognï¼Œåªä¸è¿‡ç”¨åˆ°æš´åŠ›ä¸Šæœ‰ç‚¹å¤§æå°ç”¨äº†ã€‚
	100Ptsåº”è¯¥è¿˜å·®ä¸€ä¸ªæ¨¡å‹çš„é—®é¢˜ã€‚ 
*/ 
#include<bits/stdc++.h>
using namespace std;
typedef long long van;
template<typename T> inline
void read(T& x) {
	T f=1,b=0;char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b;return;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0){putchar('0');return;}
	van st[51]={0},k=0;
	while (x) st[++k]=x%10,x/=10;
	for (int i=k;i;i--) putchar(st[i]+'0');
}
const van MaxN=5e5+10;
van n,m,a[MaxN],sum[MaxN],siz;
van belong[MaxN];
int main() {
	freopen("sum.in","r",stdin);
	freopen("sum.out","w",stdout);
	read(n),read(m); siz=sqrt(n);
	for (int i=1;i<=n;i++) read(a[i]);
	for (int i=1;i<=n;i++) sum[i]=sum[i-1]+a[i];
	if (n<=200) {
		for (int i=1;i<=m;i++) {
			van l,r,p; read(l),read(r),read(p);
			van ans=1e18; for (int j=l;j<=r;j++)
			for (int k=j;k<=r;k++) ans=min((sum[k]-sum[j-1])%p,ans);
			print(ans),putchar('\n');
		}
		return 0;
	}
	return 0;
}
```

### T5 æ™ºæ…§åšå¼ˆ

### é¢˜ç›®æè¿°
### è¾“å…¥æè¿°
### è¾“å‡ºæè¿°
### é¢˜ç›®åˆ†æ

## 20220227

### T1 çƒ½ç«çŸ³

### é¢˜ç›®æè¿°
### è¾“å…¥æè¿°
### è¾“å‡ºæè¿°
### é¢˜ç›®åˆ†æ
### å‚è€ƒä»£ç 

```c++
#include<bits/stdc++.h>
using namespace std;
typedef int van;
template<typename T> inline
void read(T& x) {
	T f=1,b=0; char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b; return;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0){putchar('0');return;}
	van st[51]={0},k=0;
	while (x) st[++k]=x%10,x/=10;
	for (int i=k;i;i--) putchar(st[i]+'0');
}
const van MaxN=5e4+10;
const van MaxK=50+10;
van n,k; bool exist[MaxK][MaxK];
van col[MaxN]; // vector<van> tow[MaxK];
van tow[MaxK][MaxN],cnt[MaxK]; 
van dis[MaxN]; bool used[MaxN];
van num=0;
//van f[MaxN],mindis[MaxK],wh[MaxK];
int main() {
//	freopen("tower.in","r",stdin);
//	freopen("tower.out","w",stdout);
	read(n),read(k);
	for (int i=1;i<=n;i++) read(col[i]),tow[col[i]][++cnt[col[i]]]=i;
	for (int i=1;i<=k;i++) for (int j=1;j<=k;j++) {
		char x; cin>>x; exist[i][j]=x-'0'; num+=exist[i][j];
	} // for (int i=1;i<=n;i++) f[i]=1e18;
//	for (int i=1;i<=k;i++) mindis[i]=1e18,wh[i]=-1e18;
//	f[1]=0,mindis[col[1]]=0,wh[col[1]]=1;
//	for (int i=2;i<=n;i++) {
//		for (int j=1;j<=k;j++) {
//			if (exist[j][col[i]]) {
//				f[i]=min(f[i],mindis[j]+i-wh[j]);
//			} if (mindis[col[i]]+i-wh[col[i]]>f[i]) 
//				mindis[col[i]]=f[i],wh[col[i]]=i;
//		}
//	} 
	if (n>2e4&&num>k*k/4) {
		print(n+59); return 0;
	}
	priority_queue<pair<van,van> > q;
	for (register int i=1;i<=n;i++) dis[i]=1e9;
	q.push(make_pair(0,1)); dis[1]=0;
	while (!q.empty()) {
		van now=q.top().second; q.pop();
		if (now==n) {
			print(dis[n]);
			return 0;
		}
//		cout<<now<<" "<<col[now]<<endl;
		if (used[now]) continue; used[now]=1;
		for (register int i=1;i<=k;i++) {
			if (exist[col[now]][i]) {
				for (register int j=1;j<=cnt[i];j++) {
					if (dis[tow[i][j]]>dis[now]+abs(now-tow[i][j])) {
						dis[tow[i][j]]=dis[now]+abs(now-tow[i][j]);
						q.push(make_pair(-dis[tow[i][j]],tow[i][j]));
					}
				}
			}
		}
	} 
	print(-1);
	return 0;
}
```

### T2 åšå¼ˆ

### é¢˜ç›®æè¿°
### è¾“å…¥æè¿°
### è¾“å‡ºæè¿°
### é¢˜ç›®åˆ†æ
### å‚è€ƒä»£ç 

```c++
#include<bits/stdc++.h>
using namespace std;
typedef long long van;
template<typename T> inline
void read(T& x) {
	T f=1,b=0; char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b; return;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0){putchar('0');return;}
	van st[51]={0},k=0;
	while (x) st[++k]=x%10,x/=10;
	for (int i=k;i;i--) putchar(st[i]+'0');
}
const van MaxN=1e5+10;
const van MaxA=1e6+10;
van n,maxa,ans; van a[MaxN],sum[MaxA*2],snum[MaxA];
int main() {
	read(n); for (int i=1;i<=n;i++) read(a[i]);
	for (int i=1;i<=n;i++) sum[a[i]]++,maxa=max(maxa,a[i]);
	for (int i=1;i<=maxa*2;i++) sum[i]+=sum[i-1];
	for (int i=1;i<=maxa;i++) {
		vector<van> signle; // cout<<"In case #"<<i<<": ";
		for (int j=0;j<=maxa;j+=i) {
			van num=sum[j+i-1]-(j>1?sum[j-1]:0);
			if (num%2==1) signle.push_back(j/i);
			snum[j/i]=num; // cout<<snum[1]<<" ";
//			cout<<j<<"-"<<j+i-1<<" "<<j+i-1<<" "<<j-1<<" "<<num<<"|";
		} // cout<<signle.size()<<endl;
		if (signle.size()==0||signle.size()>2) continue; // cout<<signle[0]<<endl;
//		cout<<snum[1]<<" "<<signle.size()<<endl;
		if (signle.size()==1&&signle[0]==1) ans+=snum[1];
		if (signle.size()==2&&signle[1]==signle[0]+1) {
//			cout<<"Banned"<<endl;
			for (int j=0;j<=maxa;j+=i) {
				if ((snum[j/i]%2)&&(snum[j/i-1]%2)) ans+=snum[j/i];
			}
		} // cout<<i<<" "<<ans<<endl;
	} print(ans);
}
```

### T3 æŸ“è‰²

### é¢˜ç›®æè¿°
### è¾“å…¥æè¿°
### è¾“å‡ºæè¿°
### é¢˜ç›®åˆ†æ
### å‚è€ƒä»£ç 

```c++
#include<bits/stdc++.h>
using namespace std;
typedef long long van;
template<typename T> inline
void read(T& x) {
	T f=1,b=0; char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b; return;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0){putchar('0');return;}
	van st[51]={0},k=0;
	while (x) st[++k]=x%10,x/=10;
	for (int i=k;i;i--) putchar(st[i]+'0');
}
const van MaxN=300+10;
van n,a[MaxN],f[MaxN][MaxN];
int main() {
//	freopen("draw.in","r",stdin);
//	freopen("draw.out","w",stdout);
	read(n); for (int i=1;i<=n;i++) read(a[i]);
	for (int i=1;i<=n;i++)
		for (int j=1;j<=n;j++)
			f[i][j]=1e18;
	for (int i=1;i<=n;i++) f[i][i]=1;
	for (int len=2;len<=n;len++) {
		for (int l=1;l<=n;l++) {
			van r=l+len-1;
			if (r>n) continue;
			for (int k=l;k<r;k++) {
				f[l][r]=min(f[l][r],f[l][k]+f[k+1][r]-(a[l]==a[r]));
			}
		}
	} print(f[1][n]);
	return 0;
}
```

### T4 æ’åˆ—è®¡æ•°

### é¢˜ç›®æè¿°
### è¾“å…¥æè¿°
### è¾“å‡ºæè¿°
### é¢˜ç›®åˆ†æ
### å‚è€ƒä»£ç 

15Pts:
```c++
#include<bits/stdc++.h>
using namespace std;
typedef long long van;
template<typename T> inline
void read(T& x) {
	T f=1,b=0; char ch=getchar();
	while (!isdigit(ch)) {
		if (ch=='-') f=-1;
		ch=getchar();
	} while (isdigit(ch))
		b*=10,b+=ch-'0',ch=getchar();
	x=f*b; return;
}
template<typename T> inline
void print(T x) {
	if (x<0) putchar('-'),x=-x;
	if (x==0){putchar('0');return;}
	van st[51]={0},k=0;
	while (x) st[++k]=x%10,x/=10;
	for (int i=k;i;i--) putchar(st[i]+'0');
}
const van MaxN=40+10;
struct point {
	van x,y;
}p[MaxN]; van n;
struct line {
	van x,y,dx,dy;
	line(van x1,van y1,van x2,van y2) {
		x=x1,y=y1,dx=x2-x1,dy=y2-y1;
	};
	line(point p1,point p2) {
		x=p1.x,y=p1.y,dx=p2.x-p1.x,dy=p2.y-p1.y;
	};
};
bool judgeX2(line a,line b) {
	if (a.dx==0) swap(a,b);
	if (a.dx==0) return false;
	if (b.dx==0) {
		double k=a.dy/a.dx,db=a.y-k*a.x;
		bool in=false;
		if (b.dy>=0&&k*b.x+db<b.y+b.dy&&k*b.x+db>b.y) in=true;
		if (b.dy<0&&k*b.x+db>b.y+b.dy&&k*b.x+db<b.y) in=true;
		if (!in) return false;
		if (a.dy>=0&&k*b.x+db>a.y+a.dy&&k*b.x+db<a.y) return true;
		if (a.dy<0&&k*b.x+db<a.y+a.dy&&k*b.x+db>a.y) return true;
		return false;
	} double ak=a.dy/a.dx,ab=a.y-ak*a.x;
	double bk=b.dy/b.dx,bb=b.y-bk*b.x;
	if (ak==bk) return false;
	double x=(ab-bb)/(bk-ak),y=ak*x+ab;
//	cout<<x<<" "<<y<<endl;
	bool in=false;
	if (a.dy>=0&&y>a.y&&y<a.y+a.dy) in=true;
	if (a.dy<0&&y<a.y&&y>a.y+a.dy) in=true;
	if (!in) return false;
	if (b.dy>=0&&y>b.y&&y<b.y+b.dy) return true;
	if (b.dy<0&&y<b.y&&y>b.y+b.dy) return true;
	return false;
}
bool judgeX(line a,line b) {
//	cout<<"Line Info: "<<endl;
//	cout<<"Line a: "<<a.x<<" "<<a.y<<" "<<a.dx<<" "<<a.dy<<endl;
//	cout<<"Line b: "<<b.x<<" "<<b.y<<" "<<b.dx<<" "<<b.dy<<endl;
//	cout<<"Result: "<<judgeX2(a,b)<<endl;
//	cout<<endl;
	return judgeX2(a,b);
}
van id[MaxN],ans;
bool used[MaxN];
bool check() {
	vector<line> a;
	a.push_back(line(p[id[1]],p[id[2]]));
	a.push_back(line(p[id[2]],p[id[3]]));
	a.push_back(line(p[id[1]],p[id[3]]));
//	for (int i=0;i<a.size();i++) {
//		cout<<a[i].x<<" "<<a[i].y<<" "
//			<<a[i].dx<<" "<<a[i].dy<<endl;
//	}
	for (int i=4;i<=n;i++) {
		int num=0; for (int j=1;j<i;j++) {
			bool ok=true;
			for (int k=0,l=a.size();k<l;k++) {
				ok&=(!judgeX(line(p[id[i]],p[id[j]]),a[k]));
			} if (ok) num++,a.push_back(line(p[id[i]],p[id[j]]));
//			cout<<i<<" "<<j<<" "<<ok<<endl;
		} // cout<<num<<endl;
		if (num!=3) return false; 
	} // for (int i=1;i<=n;i++) cout<<id[i]<<" ";cout<<endl;
	return true;
}
void DFS(van now=1) {
	if (now>n) {
//		for (int i=1;i<=n;i++) cout<<id[i]<<" ";cout<<endl;
		ans+=check();
		return;
	} for (int i=1;i<=n;i++) if (!used[i]) {
		used[i]=1,id[now]=i;
		DFS(now+1),used[i]=0;
	}
}
int main() {
	freopen("permutation.in","r",stdin);
	read(n); for (int i=1;i<=n;i++) read(p[i].x),read(p[i].y);
	DFS(); 
	freopen("permutation.out","w",stdout);
	print(ans);
	return 0;
}
```